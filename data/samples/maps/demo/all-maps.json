{"js":"/**\n * This is a complicated demo of Highcharts Maps, not intended to get you up to\n * speed quickly, but to show off some basic maps and features in one single\n * place. For the basic demo, check out\n * https://www.highcharts.com/maps/demo/geojson instead.\n *\n * @todo\n * - Remove jQuery where not necessary\n */\n\n// Base path to maps\nconst baseMapPath = 'https://code.highcharts.com/mapdata/';\n\nlet showDataLabels = false, // Switch for data labels enabled/disabled\n    mapCount = 0,\n    mapOptions = '';\n\n// Populate dropdown menus and turn into jQuery UI widgets\n$.each(Highcharts.mapDataIndex, (mapGroup, maps) => {\n    if (mapGroup !== 'version') {\n        mapOptions += `<option class=\"option-header\">${mapGroup}</option>`;\n        $.each(maps, (desc, path) => {\n            mapOptions += `<option value=\"${path}\">${desc}</option>`;\n            mapCount += 1;\n        });\n    }\n});\nconst searchText = `Search ${mapCount} maps`;\nmapOptions =\n    `<option value=\"custom/world.js\">${searchText}</option>${mapOptions}`;\n$(\"#mapDropdown\").append(mapOptions).combobox();\n\n// Change map when item selected in dropdown\n$(\"#mapDropdown\").on('change', async function () {\n    const $selectedItem = $('option:selected', this),\n        mapDesc = $selectedItem.text(),\n        mapKey = this.value.slice(0, -3),\n        svgPath = baseMapPath + mapKey + '.svg',\n        geojsonPath = baseMapPath + mapKey + '.geo.json',\n        topojsonPath = baseMapPath + mapKey + '.topo.json',\n        javascriptPath = baseMapPath + this.value,\n        isHeader = $selectedItem.hasClass('option-header');\n\n    // Dim or highlight search box\n    if (mapDesc === searchText || isHeader) {\n        $('.custom-combobox-input').removeClass('valid');\n        location.hash = '';\n    } else {\n        $('.custom-combobox-input').addClass('valid');\n        location.hash = mapKey;\n    }\n\n    if (isHeader) {\n        return false;\n    }\n\n    // Show loading\n    if (Highcharts.charts[0]) {\n        Highcharts.charts[0].showLoading(\n            '<i class=\"fa fa-spinner fa-spin fa-2x\"></i>'\n        );\n    }\n\n    // Load the map\n    let filesize = '';\n    const mapData = await fetch(topojsonPath)\n        .then(response => {\n            const size = response.headers.get('content-length');\n            if (size) {\n                filesize = Math.round(size / 1024) + ' kB';\n            }\n\n            return response.json();\n        })\n        .catch(e => console.log('Error', e));\n\n    if (!mapData) {\n        if (Highcharts.charts[0]) {\n            Highcharts.charts[0].showLoading(\n                '<i class=\"fa fa-frown\"></i> Map not found'\n            );\n        }\n        return;\n    }\n\n    // Update info box download links\n    $(\"#download\").html(\n        '<small>' + filesize + '</small> <br><br>' +\n        '<a class=\"button\" target=\"_blank\" href=\"https://jsfiddle.net/gh/get/jquery/1.11.0/' +\n            'highcharts/highcharts/tree/master/samples/mapdata/' + mapKey + '\">' +\n            'View clean demo</a>' +\n            '<div class=\"or-view-as\">... or view as ' +\n            '<a target=\"_blank\" href=\"' + svgPath + '\">SVG</a>, ' +\n            '<a target=\"_blank\" href=\"' + geojsonPath + '\">GeoJSON</a>, ' +\n            '<a target=\"_blank\" href=\"' + topojsonPath + '\">TopoJSON</a>, ' +\n            '<a target=\"_blank\" href=\"' + javascriptPath + '\">JavaScript</a>.</div>'\n    );\n\n    // Generate non-random data for the map\n    const data = mapData.objects.default.geometries.map((g, value) => ({\n        key: g.properties['hc-key'],\n        value\n    }));\n\n    // Show arrows the first time a real map is shown\n    if (mapDesc !== searchText) {\n        $('.selector .prev-next').show();\n        $('#side-box').show();\n    }\n\n    // Is there a layer above this?\n    const match = mapKey\n        .match(/^(countries\\/[a-z]{2}\\/[a-z]{2})-[a-z0-9]+-all$/);\n    let parent;\n    if (/^countries\\/[a-z]{2}\\/[a-z]{2}-all$/.test(mapKey)) { // country\n        parent = {\n            desc: 'World',\n            key: 'custom/world'\n        };\n    } else if (match) { // admin1\n        parent = {\n            desc: $('option[value=\"' + match[1] + '-all.js\"]').text(),\n            key: match[1] + '-all'\n        };\n    }\n    $('#up').html('');\n    if (parent) {\n        $('#up').append(\n            $('<a><i class=\"fa fa-angle-up\"></i> ' + parent.desc + '</a>')\n                .attr({\n                    title: parent.key\n                })\n                .on('click', function () {\n                    $('#mapDropdown').val(parent.key + '.js').trigger('change');\n                })\n        );\n    }\n\n    // Data labels formatter. Use shorthand codes for world and US\n    const formatter = function () {\n        return (\n            mapKey === 'custom/world' ||\n            mapKey === 'countries/us/us-all'\n        ) ?\n            (this.point.properties && this.point.properties['hc-a2']) :\n            this.point.name;\n    };\n\n    // On point click, look for a detailed map to drill into\n    const onPointClick = function () {\n        const key = this.key;\n        $('#mapDropdown option').each(function () {\n            if (this.value === `countries/${key.substr(0, 2)}/${key}-all.js`) {\n                $('#mapDropdown').val(this.value).trigger('change');\n            }\n        });\n    };\n\n    // Instantiate chart\n    console.time('map');\n    Highcharts.mapChart('container', {\n\n        chart: {\n            map: mapData\n        },\n\n        title: {\n            text: null\n        },\n\n        accessibility: {\n            series: {\n                descriptionFormat: '{series.name}, map with {series.points.length} areas.',\n                pointDescriptionEnabledThreshold: 50\n            }\n        },\n\n        mapNavigation: {\n            enabled: true,\n            buttonOptions: {\n                alignTo: 'spacingBox',\n                x: 10\n            }\n        },\n\n        colorAxis: {\n            min: 0,\n            stops: [\n                [0, '#EFEFFF'],\n                [0.5, Highcharts.getOptions().colors[0]],\n                [\n                    1,\n                    Highcharts.color(Highcharts.getOptions().colors[0])\n                        .brighten(-0.5).get()\n                ]\n            ]\n        },\n\n        legend: {\n            layout: 'vertical',\n            align: 'left',\n            verticalAlign: 'bottom'\n        },\n\n        series: [{\n            data,\n            joinBy: ['hc-key', 'key'],\n            name: 'Random data',\n            states: {\n                hover: {\n                    color: Highcharts.getOptions().colors[2]\n                }\n            },\n            dataLabels: {\n                enabled: showDataLabels,\n                formatter,\n                style: {\n                    fontWeight: 100,\n                    fontSize: '10px',\n                    textOutline: 'none'\n                }\n            },\n            point: {\n                events: {\n                    click: onPointClick\n                }\n            }\n        }, {\n            type: 'mapline',\n            name: \"Lines\",\n            accessibility: {\n                enabled: false\n            },\n            data: Highcharts.geojson(mapData, 'mapline'),\n            /*\n            data: [{\n                geometry: mapData.objects.default['hc-recommended-mapview'].insets[0].geoBounds\n            }],\n            // */\n            nullColor: '#333333',\n            showInLegend: false,\n            enableMouseTracking: false\n        }]\n    });\n    console.timeEnd('map');\n\n    showDataLabels = $(\"#chkDataLabels\").prop('checked');\n});\n\n// Toggle data labels - Note: Reloads map with new random data\n$(\"#chkDataLabels\").on('change', function () {\n    showDataLabels = $(\"#chkDataLabels\").prop('checked');\n    $(\"#mapDropdown\").trigger('change');\n});\n\n// Switch to previous map on button click\n$(\"#btn-prev-map\").on('click', function () {\n    $(\"#mapDropdown option:selected\")\n        .prev(\"option\")\n        .prop(\"selected\", true)\n        .trigger('change');\n});\n\n// Switch to next map on button click\n$(\"#btn-next-map\").on('click', function () {\n    $(\"#mapDropdown option:selected\")\n        .next(\"option\")\n        .prop(\"selected\", true)\n        .trigger('change');\n});\n\n// Trigger change event to load map on startup\nif (location.hash) {\n    $('#mapDropdown').val(location.hash.substr(1) + '.js');\n}\n$('#mapDropdown').trigger('change');\n","css":"#demo-wrapper {\n    max-width: 1000px;\n    margin: 0 auto;\n    height: 560px;\n    background: white;\n}\n\n#map-box {\n    width: 80%;\n    float: left;\n}\n\n#container {\n    height: 500px;\n}\n\n#side-box {\n    float: right;\n    width: 16%;\n    margin: 100px 1% 0;\n    padding-left: 1%;\n    border-left: 1px solid silver;\n    display: none;\n}\n\n#info-box {\n    margin-top: 10px;\n}\n\n.or-view-as {\n    margin: 0.5em 0;\n}\n\n#up {\n    line-height: 30px;\n    height: 30px;\n    max-width: 400px;\n    margin: 0 auto;\n}\n\n#up a {\n    cursor: pointer;\n    padding-left: 40px;\n}\n\n#chkDataLabels {\n    display: inline;\n}\n\n.selector {\n    height: 40px;\n    max-width: 400px;\n    margin: 0 auto;\n    position: relative;\n}\n\n.selector .prev-next {\n    position: absolute;\n    padding: 0 10px;\n    font-size: 30px;\n    line-height: 20px;\n    background: white;\n    font-weight: bold;\n    color: #999;\n    top: -2px;\n    display: none;\n    border: none;\n}\n\n.selector .custom-combobox {\n    display: block;\n    position: absolute;\n    left: 40px;\n    right: 65px;\n}\n\n.selector .custom-combobox .custom-combobox-input {\n    position: absolute;\n    font-size: 14px;\n    color: silver;\n    border-radius: 3px 0 0 3px;\n    height: 32px;\n    display: block;\n    background: url(\"https://www.highcharts.com/samples/graphics/search.png\") 5px 8px no-repeat white;\n    padding: 1px 5px 1px 30px;\n    width: 100%;\n    box-sizing: border-box;\n}\n\n.selector .custom-combobox .ui-autocomplete-input:focus {\n    color: black;\n}\n\n.selector .custom-combobox .ui-autocomplete-input.valid {\n    color: black;\n}\n\n.selector .custom-combobox-toggle {\n    position: absolute;\n    display: block;\n    right: -32px;\n    border-radius: 0 3px 3px 0;\n    height: 32px;\n    width: 32px;\n}\n\n.selector #btn-next-map {\n    right: -12px;\n}\n\n.ui-autocomplete {\n    max-height: 500px;\n    overflow: auto;\n}\n\n.ui-autocomplete .option-header {\n    font-style: italic;\n    font-weight: bold;\n    margin: 5px 0;\n    font-size: 1.2em;\n    color: gray;\n}\n\n.loading {\n    margin-top: 10em;\n    text-align: center;\n    color: gray;\n}\n\n.ui-button-icon-only .ui-button-text {\n    height: 26px;\n    padding: 0 !important;\n    background: white;\n}\n\n#info-box .button {\n    border: none;\n    border-radius: 3px;\n    background: #a4edba;\n    padding: 5px;\n    color: black;\n    text-decoration: none;\n    font-size: 12px;\n    white-space: nowrap;\n    cursor: pointer;\n    margin: 0 3px;\n    line-height: 30px;\n}\n\n@media (max-width: 768px) {\n    #demo-wrapper {\n        width: auto;\n        height: auto;\n    }\n\n    #map-box {\n        width: auto;\n        float: none;\n    }\n\n    #container {\n        height: 310px;\n    }\n\n    #side-box {\n        float: none;\n        width: auto;\n        margin-top: 0;\n        border-left: none;\n        border-top: 1px solid silver;\n    }\n}\n","html":"\n<link href=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css\" rel=\"stylesheet\">\n<link href=\"https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css\" rel=\"stylesheet\">\n\n<div id=\"demo-wrapper\">\n    <div id=\"map-box\">\n        <div id=\"up\"></div>\n        <div class=\"selector\">\n            <button id=\"btn-prev-map\" class=\"prev-next\" aria-label=\"Previous map\"><i class=\"fa fa-angle-left\"></i></button>\n            <!-- Note: jQuery UI combobox should be replaced with an accessible widget -->\n            <select aria-label=\"Select a map to display\" id=\"mapDropdown\" class=\"ui-widget combobox\"></select>\n            <button id=\"btn-next-map\" class=\"prev-next\" aria-label=\"Next map\"><i class=\"fa fa-angle-right\"></i></button>\n        </div>\n        <div id=\"container\"></div>\n    </div>\n    <div id=\"side-box\">\n        <input type=\"checkbox\" id=\"chkDataLabels\" checked='checked' />\n        <label for=\"chkDataLabels\">Data labels</label>\n        <div id=\"info-box\">\n            <h4>This map</h4>\n            <div id=\"download\"></div>\n        </div>\n    </div>\n</div>\n","npm":"// 安装\nnpm install highcharts@10.3.2 --save\n\n// import 模块 \nimport Jquery3.1.1.min from 'https://code.jquery.com/jquery-3.1.1.min.js';\nimport Highcharts      from 'highcharts/highmaps';\nimport Index           from 'highcharts/mapdata/index';\nimport Accessibility   from 'highcharts/modules/accessibility';\nimport JqueryUi        from 'https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js';\nimport Jquery.combobox from 'https://www.highcharts.com/samples/static/jquery.combobox.js';\nimport Zh_cn           from 'https://code.hcharts.cn/plugins/zh_cn.js';\n\n// 初始化模块\nJquery3.1.1.min(Highcharts);\nIndex(Highcharts);\nAccessibility(Highcharts);\nJqueryUi(Highcharts);\nJquery.combobox(Highcharts);\nZh_cn(Highcharts);\n","scripts":["https://code.jquery.com/jquery-3.1.1.min.js","https://code.hcharts.cn/maps/10.3.2/highmaps.js","https://code.hcharts.cn/10.3.2/mapdata/index.js","https://code.hcharts.cn/10.3.2/modules/accessibility.js","https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js","https://www.highcharts.com/samples/static/jquery.combobox.js","https://code.hcharts.cn/plugins/zh_cn.js"]}