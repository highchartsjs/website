{"js":"const chart = Highcharts.chart('container', {\n    title: {\n        text: 'Audio Chart',\n        align: 'left',\n        margin: 15\n    },\n    legend: {\n        enabled: false\n    },\n    sonification: {\n        duration: 9500,\n        afterSeriesWait: 1100,\n        events: {\n            // Announce first series before playing\n            beforePlay: function (e) {\n                e.chart.sonification.speak('Revenue');\n            },\n            // Announce second series after first one ends\n            onSeriesEnd: function (e) {\n                if (e.series.index === 0) {\n                    e.series.chart.sonification.speak('Profit margin', {}, 150);\n                }\n            }\n        },\n        defaultInstrumentOptions: {\n            mapping: {\n                playDelay: 750, // Give room for beforePlay announcement\n                noteDuration: 400\n            }\n        }\n    },\n    chart: {\n        events: {\n            render: function () {\n                // Force tooltip below point for last portion of 1st series\n                this.series[0].points.forEach(function (point) {\n                    if (point.x >= new Date('2022').getTime()) {\n                        point.ttBelow = true;\n                    }\n                });\n            }\n        }\n    },\n    accessibility: {\n        landmarkVerbosity: 'one',\n        point: {\n            describeNull: false\n        }\n    },\n    yAxis: [{\n        top: '0%',\n        height: '72%',\n        title: {\n            text: 'Revenue (millions)'\n        },\n        lineWidth: 1\n    }, {\n        top: '85%',\n        height: '15%',\n        offset: 0,\n        title: {\n            text: 'Profit margin'\n        },\n        labels: {\n            format: '{text}%'\n        },\n        plotBands: [{\n            from: 0,\n            to: 30,\n            color: '#f6f7f8'\n        }]\n    }],\n    xAxis: {\n        minPadding: 0.04,\n        maxPadding: 0.04,\n        accessibility: {\n            rangeDescription: '2017 to 2024'\n        }\n    },\n    plotOptions: {\n        series: {\n            states: {\n                inactive: {\n                    enabled: false\n                }\n            }\n        }\n    },\n    data: {\n        csv: document.getElementById('csv').textContent\n    },\n    series: [{\n        type: 'spline',\n        sonification: {\n            tracks: [{\n                roundToMusicalNotes: false\n            }]\n        }\n    }, {\n        type: 'column',\n        yAxis: 1,\n        pointWidth: 30\n    }]\n});\n\ndocument.getElementById('sonify').onclick = function () {\n    chart.toggleSonify();\n};\n\n// Populate preset dropdown\nObject.keys(\n    Highcharts.sonification.InstrumentPresets\n).forEach(function (preset) {\n    const option = document.createElement('option');\n    option.textContent = option.value = preset;\n    document.getElementById('preset').appendChild(option);\n});\n\ndocument.getElementById('preset').onchange = function () {\n    chart.update({\n        sonification: {\n            defaultInstrumentOptions: {\n                instrument: this.value\n            }\n        }\n    }, false);\n};\n","css":".highcharts-figure {\n    max-width: 800px;\n    margin: 0 auto;\n    position: relative;\n}\n\n#controls {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    z-index: 1;\n}\n\n@media (max-width: 410px) {\n    #controls {\n        position: static;\n        margin-bottom: 15px;\n    }\n}\n\n#preset {\n    margin-right: 10px;\n    min-height: 30px;\n}\n\n#sonify {\n    background-color: #fff;\n    border: 1px solid #25386f;\n    color: #25386f;\n    font-size: 0.9rem;\n    min-height: 30px;\n    font-weight: 500;\n    border-radius: 4px;\n    padding: 0.375rem 0;\n    width: 7rem;\n    margin-bottom: 0.25rem;\n    margin-top: 0.25rem;\n    text-align: center;\n    cursor: pointer;\n}\n\n#sonify:hover {\n    background-color: #25386f;\n    color: #fff;\n}\n\n#csv {\n    display: none;\n}","html":"\n<figure class=\"highcharts-figure\">\n  <div id=\"controls\">\n    <select id=\"preset\"></select>\n    <button id=\"sonify\">Play chart</button>\n  </div>\n  <div id=\"container\"></div>\n  <p class=\"highcharts-description\">Here we are demonstrating the available instrument presets in the sonification module. Select the instrument to use in the dropdown above. Custom instruments can also be used, but are not demonstrated here. The demo shows off both distinct notes for the column chart, and a more continuous sonification for the line. Some instruments are better suited to one or the other.</p>\n</figure>\n\n<pre id=\"csv\">Date,Revenue,Profit Margin\n2017-01-01,1210,3\n2017-02-01,1255,\n2017-03-01,1340,\n2017-04-01,1275,\n2017-05-01,1395,\n2017-06-01,1265,\n2017-07-01,1440,\n2017-08-01,1378,\n2017-09-01,1505,\n2017-10-01,1421,\n2017-11-01,1460,\n2017-12-01,1517,\n2018-01-01,1590,7\n2018-02-01,1610,\n2018-03-01,1650,\n2018-04-01,1725,\n2018-05-01,1680,\n2018-06-01,1743,\n2018-07-01,1780,\n2018-08-01,1832,\n2018-09-01,1900,\n2018-10-01,1865,\n2018-11-01,2020,\n2018-12-01,2084,\n2019-01-01,2150,5\n2019-02-01,2095,\n2019-03-01,2250,\n2019-04-01,2205,\n2019-05-01,2360,\n2019-06-01,2425,\n2019-07-01,2385,\n2019-08-01,2540,\n2019-09-01,2600,\n2019-10-01,2675,\n2019-11-01,2730,\n2019-12-01,2790,\n2020-01-01,2750,9\n2020-02-01,2820,\n2020-03-01,2850,\n2020-04-01,2750,\n2020-05-01,2840,\n2020-06-01,3000,\n2020-07-01,2980,\n2020-08-01,3050,\n2020-09-01,3220,\n2020-10-01,3480,\n2020-11-01,3560,\n2020-12-01,3640,\n2021-01-01,3720,11\n2021-02-01,3800,\n2021-03-01,3890,\n2021-04-01,3980,\n2021-05-01,4250,\n2021-06-01,4120,\n2021-07-01,4000,\n2021-08-01,4280,\n2021-09-01,4370,\n2021-10-01,4440,\n2021-11-01,4530,\n2021-12-01,4620,\n2022-01-01,4910,18\n2022-02-01,4900,\n2022-03-01,4890,\n2022-04-01,4940,\n2022-05-01,5070,\n2022-06-01,5100,\n2022-07-01,5060,\n2022-08-01,5240,\n2022-09-01,5420,\n2022-10-01,5520,\n2022-11-01,5400,\n2022-12-01,5430,\n2023-01-01,5310,20\n2023-02-01,5200,\n2023-03-01,5190,\n2023-04-01,5180,\n2023-05-01,5210,\n2023-06-01,5160,\n2023-07-01,5060,\n2023-08-01,5240,\n2023-09-01,5120,\n2023-10-01,5220,\n2023-11-01,5300,\n2023-12-01,5330,\n2024-01-01,5320,18\n</pre>","npm":"// 安装\nnpm install highcharts@11.0.0 --save\n\n// import 模块 \nimport Highcharts    from 'highcharts';\nimport Data          from 'highcharts/modules/data';\nimport Sonification  from 'highcharts/modules/sonification';\nimport Accessibility from 'highcharts/modules/accessibility';\n\n// 初始化模块\nData(Highcharts);\nSonification(Highcharts);\nAccessibility(Highcharts);\n","scripts":["https://code.highcharts.com/11.0.0/highcharts.js","https://code.highcharts.com/11.0.0/modules/data.js","https://code.highcharts.com/11.0.0/modules/sonification.js","https://code.highcharts.com/11.0.0/modules/accessibility.js"]}