{"js":"var regionList = ['Africa', 'Arab World', 'Central Europe and the Baltics', 'East Asia & Pacific (all income levels)', 'East Asia & Pacific (developing only)', 'Europe & Central Asia (all income levels)', 'Europe & Central Asia (developing only)', 'European Union', 'Latin America & Caribbean (all income levels)', 'Latin America & Caribbean (developing only)', 'Least developed countries: UN classification', 'Middle East & North Africa (all income levels)', 'Middle East & North Africa (developing only)', 'North America', 'South Asia', 'Sub-Saharan Africa (all income levels)', 'Sub-Saharan Africa (developing only)', 'Sub-Saharan Africa (excluding high income)'];\nvar incomeList = ['High income', 'High income: OECD', 'High income: nonOECD', 'Low income', 'Middle income', 'Lower middle income', 'Upper middle income', 'Low & middle income', 'OECD members'];\nvar worldList = ['World', 'world', 'WLD'];\n\n// Settings\nvar url = 'https://cdn.jsdelivr.net/gh/highcharts/highcharts@22a6cc01/samples/data/worldbank2.json';\n\nvar arrayRegion = [],\n    arrayIncome = [],\n    arrayCountry = [],\n    arrayWorld = [],\n    YearList = [],\n    CountryName,\n    IncomeName,\n    RegionName,\n    indicatorName;\n\n\nfetch(url).then(function (response) {\n    return response.json();\n}).then(function (result) {\n    result[1].forEach(data => {\n        // test if country name is in regionList\n        if (regionList.indexOf(data.country.value) !== -1) {\n            // Store Region Name\n            RegionName = data.country.value;\n            // Append values to arrayRegion\n            if (data.value !== null) {\n                arrayRegion.push(parseFloat(data.value));\n            } else {\n                arrayRegion.push(null);\n            }\n            // test if country name is in incomeList\n        } else if (incomeList.indexOf(data.country.value) !== -1) {\n            // Store Income name\n            IncomeName = data.country.value;\n            if (data.value !== null) {\n                arrayIncome.push(parseFloat(data.value));\n            } else {\n                arrayIncome.push(null);\n            }\n        } else if (worldList.indexOf(data.country.value) !== -1) {\n            // fill the Year list array. NB. We choose the World serie to do so, as this serie is the most likely to be complete (i.e. the one with the less missing values)\n            YearList.push(data.date);\n            // store Indictor Label\n            indicatorName = data.indicator.value;\n            if (data.value !== null) {\n                arrayWorld.push(parseFloat(data.value));\n            } else {\n                arrayWorld.push(null);\n            }\n        } else {\n            // Finally create the country data vector\n            CountryName = data.country.value;\n            if (data.value !== null) {\n                arrayCountry.push(parseFloat(data.value));\n            } else {\n                arrayCountry.push(null);\n            }\n        }\n    });\n    Highcharts.chart('container', {\n        chart: {\n            type: 'spline'\n        },\n        colors: ['#6e9fc5', '#ffdf51', '#a6ca6d', '#ad46d6', '#f26a2e', '#00adef', '#f4bb90'],\n        title: {\n            text: indicatorName\n        },\n        subtitle: {\n            text: 'Source: World Bank Data'\n        },\n        xAxis: {\n            categories: YearList.reverse() // .reverse() to have the min year on the left\n        },\n        plotOptions: {\n            series: {\n                marker: {\n                    enabled: false\n                }\n            }\n        },\n        tooltip: {\n            valueDecimals: 2,\n            pointFormat: '<span style=\"color:{point.color}\">\\u25CF</span> {series.name}: <b>{point.y}%</b><br/>'\n        },\n        series: [{\n            name: CountryName,\n            data: arrayCountry.reverse()\n        }, {\n            name: RegionName,\n            data: arrayRegion.reverse()\n        }, {\n            name: IncomeName,\n            data: arrayIncome.reverse()\n        }, {\n            name: 'World',\n            data: arrayWorld.reverse()\n        }]\n    });\n}).catch(function (error) {\n    console.log('there was an error!', error);\n});\n","css":"","html":"\n<div id=\"container\" style=\"min-width: 310px; height: 400px; margin: 0 auto\"></div>","npm":"// 安装\nnpm install highcharts@11.0.1 --save\n\n// import 模块 \nimport Highcharts    from 'highcharts';\nimport Exporting     from 'highcharts/modules/exporting';\nimport Accessibility from 'highcharts/modules/accessibility';\n\n// 初始化模块\nExporting(Highcharts);\nAccessibility(Highcharts);\n","scripts":["https://code.highcharts.com/11.0.1/highcharts.js","https://code.highcharts.com/11.0.1/modules/exporting.js","https://code.highcharts.com/11.0.1/modules/accessibility.js"]}