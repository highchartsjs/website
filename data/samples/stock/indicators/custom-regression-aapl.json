{"js":"function getLinearRegression(xData, yData) {\n    var sumX = 0,\n        sumY = 0,\n        sumXY = 0,\n        sumX2 = 0,\n        linearData = [],\n        linearXData = [],\n        linearYData = [],\n        n = xData.length,\n        alpha, beta, i, x, y;\n\n    // Get sums:\n    for (i = 0; i < n; i++) {\n        x = xData[i];\n        y = yData[i];\n        sumX += x;\n        sumY += y;\n        sumXY += x * y;\n        sumX2 += x * x;\n    }\n\n    // Get slope and offset:\n    alpha = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);\n    if (isNaN(alpha)) {\n        alpha = 0;\n    }\n    beta = (sumY - alpha * sumX) / n;\n\n    // Calculate linear regression:\n    for (i = 0; i < n; i++) {\n        x = xData[i];\n        y = alpha * x + beta;\n\n        // Prepare arrays required for getValues() method\n        linearData[i] = [x, y];\n        linearXData[i] = x;\n        linearYData[i] = y;\n    }\n\n    return {\n        xData: linearXData,\n        yData: linearYData,\n        values: linearData\n    };\n}\n\nHighcharts.seriesType(\n    'linearregression',\n    'sma', {\n        name: 'Linear Regression',\n        enableMouseTracking: false,\n        marker: {\n            enabled: false\n        },\n        params: {} // linear regression doesn’t need params\n    }, {\n        getValues: function (series) {\n            return this.getLinearRegression(series.xData, series.yData);\n        },\n        getLinearRegression: getLinearRegression\n    }\n);\n\nHighcharts.getJSON('https://demo-live-data.highcharts.com/aapl-c.json', function (data) {\n\n    Highcharts.stockChart('container', {\n\n        rangeSelector: {\n            selected: 2\n        },\n\n        title: {\n            text: 'AAPL Stock Price'\n        },\n\n        legend: {\n            enabled: true\n        },\n\n        plotOptions: {\n            series: {\n                showInLegend: true\n            }\n        },\n\n        series: [{\n            id: 'aapl',\n            name: 'AAPL Stock Price',\n            data: data\n        }, {\n            type: 'linearregression',\n            linkedTo: 'aapl'\n        }]\n    });\n});\n","css":"#container {\n    height: 400px;\n    min-width: 310px;\n}\n","html":"\n\n<div id=\"container\"></div>","npm":"// 安装\nnpm install highcharts@11.0.0 --save\n\n// import 模块 \nimport Highcharts from 'highcharts/highstock';\nimport Data       from 'highcharts/modules/data';\nimport Exporting  from 'highcharts/modules/exporting';\nimport Indicators from 'highcharts/indicators/indicators';\n\n// 初始化模块\nData(Highcharts);\nExporting(Highcharts);\nIndicators(Highcharts);\n","scripts":["https://code.highcharts.com/stock/11.0.0/highstock.js","https://code.highcharts.com/stock/11.0.0/modules/data.js","https://code.highcharts.com/stock/11.0.0/modules/exporting.js","https://code.highcharts.com/stock/11.0.0/indicators/indicators.js"]}