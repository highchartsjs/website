{"js":"Highcharts.setOptions({\n    lang: {\n        stockTools: {\n            gui: {\n                thresholds: 'Click on a chart to add an alarm-line which will change color of the series'\n            }\n        },\n        navigation: {\n            popup: {\n                thresholds: 'Color threshold'\n            }\n        }\n    }\n});\n\nHighcharts.getJSON('https://demo-live-data.highcharts.com/aapl-ohlcv.json', function (data) {\n\n    // split the data set into ohlc and volume\n    var ohlc = [],\n        volume = [],\n        dataLength = data.length,\n        i = 0;\n\n    for (i; i < dataLength; i += 1) {\n        ohlc.push([\n            data[i][0], // the date\n            data[i][1], // open\n            data[i][2], // high\n            data[i][3], // low\n            data[i][4] // close\n        ]);\n\n        volume.push([\n            data[i][0], // the date\n            data[i][5] // the volume\n        ]);\n    }\n\n    Highcharts.stockChart('container', {\n        stockTools: {\n            gui: {\n                buttons: [\n                    'thresholds',\n                    'separator',\n                    'indicators',\n                    'separator',\n                    'simpleShapes',\n                    'lines',\n                    'crookedLines',\n                    'measure',\n                    'advanced',\n                    'toggleAnnotations',\n                    'separator',\n                    'verticalLabels',\n                    'flags',\n                    'separator',\n                    'zoomChange',\n                    'fullScreen',\n                    'typeChange',\n                    'separator',\n                    'currentPriceIndicator',\n                    'saveChart'\n                ],\n                definitions: {\n                    thresholds: {\n                        className: 'highcharts-threshold-annotation',\n                        symbol: 'horizontal-line.svg'\n                    }\n                }\n            }\n        },\n        navigation: {\n            bindings: {\n                thresholds: {\n                    className: 'highcharts-threshold-annotation',\n                    start: function (event) {\n                        var chart = this.chart,\n                            x = chart.xAxis[0].toValue(event.chartX),\n                            y = chart.yAxis[0].toValue(event.chartY),\n                            colors = chart.options.colors,\n                            series = chart.series[0],\n                            zones = series.userOptions.zones || [];\n\n                        chart.customColorIndex = chart.customColorIndex || 1;\n\n                        chart.customColorIndex++;\n\n                        if (\n                            chart.customColorIndex === colors.length\n                        ) {\n                            chart.customColorIndex = 1;\n                        }\n\n                        zones.push({\n                            color: colors[chart.customColorIndex],\n                            value: y\n                        });\n\n                        chart.addAnnotation({\n                            langKey: 'thresholds',\n                            zoneIndex: zones.length - 1,\n                            type: 'infinityLine',\n                            draggable: 'y',\n                            events: {\n                                drag: function (e) {\n                                    var newZones = series.userOptions.zones;\n\n                                    newZones[this.userOptions.zoneIndex].value =\n                                        chart.yAxis[0].toValue(e.chartY);\n\n                                    chart.series[0].update({\n                                        zones: newZones\n                                    });\n                                }\n                            },\n                            typeOptions: {\n                                type: 'horizontalLine',\n                                points: [{\n                                    x: x,\n                                    y: y\n                                }]\n                            }\n                        });\n\n                        chart.series[0].update({\n                            zones: zones\n                        });\n                    }\n                }\n            }\n        },\n        yAxis: [{\n            height: '80%'\n        }, {\n            top: '80%',\n            height: '20%',\n            offset: 0\n        }],\n        series: [{\n            type: 'line',\n            id: 'aapl-ohlc',\n            name: 'AAPL Stock Price',\n            data: ohlc\n        }, {\n            type: 'column',\n            id: 'aapl-volume',\n            name: 'AAPL Volume',\n            data: volume,\n            yAxis: 1\n        }],\n        responsive: {\n            rules: [{\n                condition: {\n                    minWidth: 600\n                },\n                chartOptions: {\n                    yAxis: [{\n                        labels: {\n                            align: 'left'\n                        }\n                    }, {\n                        labels: {\n                            align: 'left'\n                        }\n                    }]\n                }\n            }]\n        }\n    });\n});\n","css":"","html":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://code.highcharts.com/css/stocktools/gui.css\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"https://code.highcharts.com/css/annotations/popup.css\">\n\n\n\n\n\n\n\n<div id=\"container\" class=\"chart\"></div>","npm":"// 安装\nnpm install highcharts@11.0.1 --save\n\n// import 模块 \nimport Highcharts          from 'highcharts/highstock';\nimport Data                from 'highcharts/modules/data';\nimport IndicatorsAll       from 'highcharts/indicators/indicators-all';\nimport DragPanes           from 'highcharts/modules/drag-panes';\nimport AnnotationsAdvanced from 'highcharts/modules/annotations-advanced';\nimport PriceIndicator      from 'highcharts/modules/price-indicator';\nimport FullScreen          from 'highcharts/modules/full-screen';\nimport StockTools          from 'highcharts/modules/stock-tools';\n\n// 初始化模块\nData(Highcharts);\nIndicatorsAll(Highcharts);\nDragPanes(Highcharts);\nAnnotationsAdvanced(Highcharts);\nPriceIndicator(Highcharts);\nFullScreen(Highcharts);\nStockTools(Highcharts);\n","scripts":["https://code.highcharts.com/stock/11.0.1/highstock.js","https://code.highcharts.com/stock/11.0.1/modules/data.js","https://code.highcharts.com/stock/11.0.1/indicators/indicators-all.js","https://code.highcharts.com/stock/11.0.1/modules/drag-panes.js","https://code.highcharts.com/stock/11.0.1/modules/annotations-advanced.js","https://code.highcharts.com/stock/11.0.1/modules/price-indicator.js","https://code.highcharts.com/stock/11.0.1/modules/full-screen.js","https://code.highcharts.com/stock/11.0.1/modules/stock-tools.js"]}