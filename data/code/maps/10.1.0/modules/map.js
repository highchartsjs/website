/*
 Highmaps JS v10.1.0 (2022-05-20)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(v){b(v);b.Highcharts=v;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function v(b,k,q,h){b.hasOwnProperty(k)||(b[k]=h.apply(null,q),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:k,module:b[k]}})))}b=b?b._modules:{};v(b,"Core/Axis/Color/ColorAxisComposition.js",
[b["Core/Color/Color.js"],b["Core/Utilities.js"]],function(b,k){var q=b.parse,h=k.addEvent,p=k.extend,f=k.merge,d=k.pick,u=k.splat,n;(function(m){function n(){var e=this,l=this.options;this.colorAxis=[];l.colorAxis&&(l.colorAxis=u(l.colorAxis),l.colorAxis.forEach(function(l,a){l.index=a;new B(e,l)}))}function a(e){var l=this,a=function(a){a=e.allItems.indexOf(a);-1!==a&&(l.destroyItem(e.allItems[a]),e.allItems.splice(a,1))},c=[],x,w;(this.chart.colorAxis||[]).forEach(function(e){(x=e.options)&&x.showInLegend&&
(x.dataClasses&&x.visible?c=c.concat(e.getDataClassLegendSymbols()):x.visible&&c.push(e),e.series.forEach(function(e){if(!e.options.showInLegend||x.dataClasses)"point"===e.options.legendType?e.points.forEach(function(e){a(e)}):a(e)}))});for(w=c.length;w--;)e.allItems.unshift(c[w])}function c(e){e.visible&&e.item.legendColor&&e.item.legendSymbol.attr({fill:e.item.legendColor})}function g(){var e=this.chart.colorAxis;e&&e.forEach(function(e,l,a){e.update({},a)})}function t(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function D(){var e=this.axisTypes;e?-1===e.indexOf("colorAxis")&&e.push("colorAxis"):this.axisTypes=["colorAxis"]}function F(e){var l=this,a=e?"show":"hide";l.visible=l.options.visible=!!e;["graphic","dataLabel"].forEach(function(e){if(l[e])l[e][a]()});this.series.buildKDTree()}function r(){var e=this,l=this.options.nullColor,a=this.colorAxis,c=this.colorKey;(this.data.length?this.data:this.points).forEach(function(x){var w=x.getNestedProperty(c);
(w=x.options.color||(x.isNull||null===x.value?l:a&&"undefined"!==typeof w?a.toColor(w,x):x.color||e.color))&&x.color!==w&&(x.color=w,"point"===e.options.legendType&&x.legendItem&&e.chart.legend.colorizeItem(x,x.visible))})}function z(e){var l=e.prototype.createAxis;e.prototype.createAxis=function(e,a){if("colorAxis"!==e)return l.apply(this,arguments);var c=new B(this,f(a.axis,{index:this[e].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(e){e.series=[]});this.series.forEach(function(e){e.bindAxes();
e.isDirtyData=!0});d(a.redraw,!0)&&this.redraw(a.animation);return c}}function w(){this.elem.attr("fill",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}function e(){this.elem.attr("stroke",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}var l=[],B;m.compose=function(m,f,d,y,x){B||(B=m);-1===l.indexOf(f)&&(l.push(f),m=f.prototype,m.collectionsWithUpdate.push("colorAxis"),m.collectionsWithInit.colorAxis=[m.addColorAxis],h(f,"afterGetAxes",n),z(f));-1===l.indexOf(d)&&(l.push(d),f=d.prototype,
f.fillSetter=w,f.strokeSetter=e);-1===l.indexOf(y)&&(l.push(y),h(y,"afterGetAllItems",a),h(y,"afterColorizeItem",c),h(y,"afterUpdate",g));-1===l.indexOf(x)&&(l.push(x),p(x.prototype,{optionalAxis:"colorAxis",translateColors:r}),p(x.prototype.pointClass.prototype,{setVisible:F}),h(x,"afterTranslate",t),h(x,"bindAxes",D))};m.pointSetVisible=F})(n||(n={}));return n});v(b,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,
startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}});v(b,"Core/Axis/Color/ColorAxis.js",[b["Core/Axis/Axis.js"],b["Core/Color/Color.js"],b["Core/Axis/Color/ColorAxisComposition.js"],b["Core/Axis/Color/ColorAxisDefaults.js"],b["Core/Globals.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,
q,h,p,f,d,u){var n=this&&this.__extends||function(){var a=function(c,g){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var l in e)e.hasOwnProperty(l)&&(a[l]=e[l])};return a(c,g)};return function(c,g){function w(){this.constructor=c}a(c,g);c.prototype=null===g?Object.create(g):(w.prototype=g.prototype,new w)}}(),m=k.parse,y=p.noop,a=d.series,c=u.extend,g=u.isNumber,t=u.merge,D=u.pick;k=function(d){function r(a,c){var e=d.call(this,a,c)||this;
e.beforePadding=!1;e.chart=void 0;e.coll="colorAxis";e.dataClasses=void 0;e.legendItem=void 0;e.legendItems=void 0;e.name="";e.options=void 0;e.stops=void 0;e.visible=!0;e.init(a,c);return e}n(r,d);r.compose=function(a,c,e,l){q.compose(r,a,c,e,l)};r.prototype.init=function(a,c){var e=a.options.legend||{},l=c.layout?"vertical"!==c.layout:"vertical"!==e.layout,g=c.visible;e=t(r.defaultColorAxisOptions,c,{showEmpty:!1,title:null,visible:e.enabled&&!1!==g});this.coll="colorAxis";this.side=c.side||l?2:
1;this.reversed=c.reversed||!l;this.opposite=!l;d.prototype.init.call(this,a,e);this.userOptions.visible=g;c.dataClasses&&this.initDataClasses(c);this.initStops();this.horiz=l;this.zoomEnabled=!1};r.prototype.initDataClasses=function(a){var c=this.chart,e=this.options,l=a.dataClasses.length,g,z=0,r=c.options.chart.colorCount;this.dataClasses=g=[];this.legendItems=[];(a.dataClasses||[]).forEach(function(a,w){a=t(a);g.push(a);if(c.styledMode||!a.color)"category"===e.dataClassColor?(c.styledMode||(w=
c.options.colors,r=w.length,a.color=w[z]),a.colorIndex=z,z++,z===r&&(z=0)):a.color=m(e.minColor).tweenTo(m(e.maxColor),2>l?.5:w/(l-1))})};r.prototype.hasData=function(){return!!(this.tickPositions||[]).length};r.prototype.setTickPositions=function(){if(!this.dataClasses)return d.prototype.setTickPositions.call(this)};r.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(a){a.color=m(a[1])})};r.prototype.setOptions=
function(a){d.prototype.setOptions.call(this,a);this.options.crosshair=this.options.marker};r.prototype.setAxisSize=function(){var a=this.legendSymbol,c=this.chart,e=c.options.legend||{},l,g;a?(this.left=e=a.attr("x"),this.top=l=a.attr("y"),this.width=g=a.attr("width"),this.height=a=a.attr("height"),this.right=c.chartWidth-e-g,this.bottom=c.chartHeight-l-a,this.len=this.horiz?g:a,this.pos=this.horiz?e:l):this.len=(this.horiz?e.symbolWidth:e.symbolHeight)||r.defaultLegendLength};r.prototype.normalizedValue=
function(a){this.logarithmic&&(a=this.logarithmic.log2lin(a));return 1-(this.max-a)/(this.max-this.min||1)};r.prototype.toColor=function(a,c){var e=this.dataClasses,l=this.stops,g;if(e)for(g=e.length;g--;){var w=e[g];var t=w.from;l=w.to;if(("undefined"===typeof t||a>=t)&&("undefined"===typeof l||a<=l)){var r=w.color;c&&(c.dataClass=g,c.colorIndex=w.colorIndex);break}}else{a=this.normalizedValue(a);for(g=l.length;g--&&!(a>l[g][0]););t=l[g]||l[g+1];l=l[g+1]||t;a=1-(l[0]-a)/(l[0]-t[0]||1);r=t.color.tweenTo(l.color,
a)}return r};r.prototype.getOffset=function(){var a=this.legendGroup,c=this.chart.axisOffset[this.side];if(a){this.axisParent=a;d.prototype.getOffset.call(this);var e=this.chart.legend;e.allItems.forEach(function(a){a instanceof r&&a.drawLegendSymbol(e,a)});e.render();this.chart.getMargins(!0);this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=c}};r.prototype.setLegendColor=function(){var a=this.reversed,c=a?1:0;a=a?0:1;c=this.horiz?[c,0,a,0]:
[0,a,0,c];this.legendColor={linearGradient:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]},stops:this.stops}};r.prototype.drawLegendSymbol=function(a,c){var e=a.padding,l=a.options,g=this.horiz,w=D(l.symbolWidth,g?r.defaultLegendLength:12),t=D(l.symbolHeight,g?12:r.defaultLegendLength),m=D(l.labelPadding,g?16:30);l=D(l.itemDistance,10);this.setLegendColor();c.legendSymbol||(c.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,w,t).attr({zIndex:1}).add(c.legendGroup));this.legendItemWidth=w+e+(g?l:this.options.labels.x+
this.maxLabelLength);this.legendItemHeight=t+e+(g?m:0)};r.prototype.setState=function(a){this.series.forEach(function(c){c.setState(a)})};r.prototype.setVisible=function(){};r.prototype.getSeriesExtremes=function(){var c=this.series,g=c.length,e;this.dataMin=Infinity;for(this.dataMax=-Infinity;g--;){var l=c[g];var t=l.colorKey=D(l.options.colorKey,l.colorKey,l.pointValKey,l.zoneAxis,"y");var r=l.pointArrayMap;var m=l[t+"Min"]&&l[t+"Max"];if(l[t+"Data"])var d=l[t+"Data"];else if(r){d=[];r=r.indexOf(t);
var n=l.yData;if(0<=r&&n)for(e=0;e<n.length;e++)d.push(D(n[e][r],n[e]))}else d=l.yData;m?(l.minColorValue=l[t+"Min"],l.maxColorValue=l[t+"Max"]):(d=a.prototype.getExtremes.call(l,d),l.minColorValue=d.dataMin,l.maxColorValue=d.dataMax);"undefined"!==typeof l.minColorValue&&(this.dataMin=Math.min(this.dataMin,l.minColorValue),this.dataMax=Math.max(this.dataMax,l.maxColorValue));m||a.prototype.applyExtremes.call(l)}};r.prototype.drawCrosshair=function(a,c){var e=c&&c.plotX,l=c&&c.plotY,g=this.pos,t=
this.len;if(c){var r=this.toPixels(c.getNestedProperty(c.series.colorKey));r<g?r=g-2:r>g+t&&(r=g+t+2);c.plotX=r;c.plotY=this.len-r;d.prototype.drawCrosshair.call(this,a,c);c.plotX=e;c.plotY=l;this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};r.prototype.getPlotLinePath=function(a){var c=
this.left,e=a.translatedValue,l=this.top;return g(e)?this.horiz?[["M",e-4,l-6],["L",e+4,l-6],["L",e,l],["Z"]]:[["M",c,e],["L",c-6,e+6],["L",c-6,e-6],["Z"]]:d.prototype.getPlotLinePath.call(this,a)};r.prototype.update=function(a,c){var e=this.chart.legend;this.series.forEach(function(a){a.isDirtyData=!0});(a.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems();d.prototype.update.call(this,a,c);this.legendItem&&(this.setLegendColor(),e.colorizeItem(this,!0))};r.prototype.destroyItems=function(){var a=
this.chart;this.legendItem?a.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(c){a.legend.destroyItem(c)});a.isDirtyLegend=!0};r.prototype.destroy=function(){this.chart.isDirtyLegend=!0;this.destroyItems();d.prototype.destroy.apply(this,[].slice.call(arguments))};r.prototype.remove=function(a){this.destroyItems();d.prototype.remove.call(this,a)};r.prototype.getDataClassLegendSymbols=function(){var a=this,g=a.chart,e=a.legendItems,l=g.options.legend,t=l.valueDecimals,r=
l.valueSuffix||"",m;e.length||a.dataClasses.forEach(function(l,w){var x=l.from,A=l.to,L=g.numberFormatter,J=!0;m="";"undefined"===typeof x?m="< ":"undefined"===typeof A&&(m="> ");"undefined"!==typeof x&&(m+=L(x,t)+r);"undefined"!==typeof x&&"undefined"!==typeof A&&(m+=" - ");"undefined"!==typeof A&&(m+=L(A,t)+r);e.push(c({chart:g,name:m,options:{},drawLegendSymbol:f.drawRectangle,visible:!0,setState:y,isDataClass:!0,setVisible:function(){this.visible=J=a.visible=!J;a.series.forEach(function(a){a.points.forEach(function(a){a.dataClass===
w&&a.setVisible(J)})});g.legend.colorizeItem(this,J)}},l))});return e};r.defaultColorAxisOptions=h;r.defaultLegendLength=200;r.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"];return r}(b);Array.prototype.push.apply(b.keepProps,k.keepProps);"";return k});v(b,"Maps/MapNavigationOptionsDefault.js",[b["Core/DefaultOptions.js"],b["Core/Utilities.js"]],function(b,k){k=k.extend;var q={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,
height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};k(b.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return b.defaultOptions.mapNavigation=q});v(b,"Maps/MapNavigation.js",[b["Core/Chart/Chart.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k,q){function h(a){a&&
(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function p(a){this.navButtons=[];this.init(a)}var f=k.doc,d=q.addEvent,u=q.extend,n=q.isNumber,m=q.merge,y=q.objectEach,a=q.pick;p.prototype.init=function(a){this.chart=a};p.prototype.update=function(c){var g=this,t=this.chart,n=t.options.mapNavigation,f,r=function(a){this.handler.call(t,a);h(a)},b=g.navButtons;c&&(n=t.options.mapNavigation=m(t.options.mapNavigation,c));for(;b.length;)b.pop().destroy();
a(n.enableButtons,n.enabled)&&!t.renderer.forExport&&(g.navButtonsGroup||(g.navButtonsGroup=t.renderer.g().attr({zIndex:4}).add()),y(n.buttons,function(a,e){a=m(n.buttonOptions,a);!t.styledMode&&a.theme&&(f=a.theme,f.style=m(a.theme.style,a.style));var c=t.renderer.button(a.text||"",0,0,r,f,void 0,void 0,void 0,"zoomIn"===e?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[e]).attr({width:a.width,height:a.height,title:t.options.lang[e],
padding:a.padding,zIndex:5}).add(g.navButtonsGroup);c.handler=a.onclick;d(c.element,"dblclick",h);b.push(c);u(a,{width:c.width,height:2*c.height});if(t.hasLoaded)c.align(a,!1,a.alignTo);else var w=d(t,"load",function(){c.element&&c.align(a,!1,a.alignTo);w()})}),c=function(){var a=t.exportingGroup&&t.exportingGroup.getBBox();if(a){var e=g.navButtonsGroup.getBBox();if(!(e.x>=a.x+a.width||e.x+e.width<=a.x||e.y>=a.y+a.height||e.y+e.height<=a.y)){var c=-e.y-e.height+a.y-5;a=a.y+a.height-e.y+5;g.navButtonsGroup.attr({translateY:"bottom"===
(n.buttonOptions&&n.buttonOptions.verticalAlign)?c:a})}}},t.hasLoaded||d(t,"render",c));this.updateEvents(n)};p.prototype.updateEvents=function(c){var g=this.chart;a(c.enableDoubleClickZoom,c.enabled)||c.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||d(g.container,"dblclick",function(a){g.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());a(c.enableMouseWheelZoom,c.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||d(g.container,
void 0!==f.onwheel?"wheel":void 0!==f.onmousewheel?"mousewheel":"DOMMouseScroll",function(a){g.pointer.inClass(a.target,"highcharts-no-mousewheel")||(g.pointer.onContainerMouseWheel(a),h(a));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};u(b.prototype,{fitToBox:function(a,g){[["x","width"],["y","height"]].forEach(function(c){var t=c[0];c=c[1];a[t]+a[c]>g[t]+g[c]&&(a[c]>g[c]?(a[c]=g[c],a[t]=g[t]):a[t]=g[t]+g[c]-a[c]);a[c]>g[c]&&(a[c]=g[c]);a[t]<g[t]&&(a[t]=g[t])});
return a},mapZoom:function(a,g,t,m,d){this.mapView&&(n(a)&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,n(g)&&n(t)?this.mapView.projection.inverse([g,t]):void 0,n(m)&&n(d)?[m,d]:void 0))}});d(b,"beforeRender",function(){this.mapNavigation=new p(this);this.mapNavigation.update()});k.MapNavigation=p});v(b,"Maps/MapPointer.js",[b["Core/Pointer.js"],b["Core/Utilities.js"]],function(b,k){var q=k.defined,h=k.extend,p=k.pick;k=k.wrap;var f=b.prototype.normalize,d=0,u;h(b.prototype,{normalize:function(n,
m){var d=this.chart;n=f.call(this,n,m);d&&d.mapView&&(m=d.mapView.pixelsToLonLat({x:n.chartX-d.plotLeft,y:n.chartY-d.plotTop}))&&h(n,m);return n},onContainerDblClick:function(d){var m=this.chart;d=this.normalize(d);m.options.mapNavigation.enableDoubleClickZoomTo?m.pointer.inClass(d.target,"highcharts-tracker")&&m.hoverPoint&&m.hoverPoint.zoomTo():m.isInsidePlot(d.chartX-m.plotLeft,d.chartY-m.plotTop)&&m.mapZoom(.5,void 0,void 0,d.chartX,d.chartY)},onContainerMouseWheel:function(n){var m=this.chart;
n=this.normalize(n);var f=q(n.wheelDelta)&&-n.wheelDelta/120||n.deltaY||n.detail;1<=Math.abs(f)&&(d+=Math.abs(f),u&&clearTimeout(u),u=setTimeout(function(){d=0},50));10>d&&m.isInsidePlot(n.chartX-m.plotLeft,n.chartY-m.plotTop)&&m.mapView&&m.mapView.zoomBy((m.options.mapNavigation.mouseWheelSensitivity-1)*-f,void 0,[n.chartX,n.chartY],1>Math.abs(f)?!1:void 0)}});k(b.prototype,"zoomOption",function(d){var m=this.chart.options.mapNavigation;p(m.enableTouchZoom,m.enabled)&&(this.chart.options.chart.pinchType=
"xy");d.apply(this,[].slice.call(arguments,1))});k(b.prototype,"pinchTranslate",function(d,m,f,a,c,g,t){d.call(this,m,f,a,c,g,t);"map"===this.chart.options.chart.type&&this.hasZoom&&(d=a.scaleX>a.scaleY,this.pinchTranslateDirection(!d,m,f,a,c,g,t,d?a.scaleX:a.scaleY))})});v(b,"Series/ColorMapMixin.js",[b["Core/Globals.js"],b["Core/Series/Point.js"],b["Core/Utilities.js"]],function(b,k,q){var h=b.noop;b=b.seriesTypes;var p=q.defined;q=q.addEvent;q(k,"afterSetState",function(f){this.moveToTopOnHover&&
this.graphic&&this.graphic.attr({zIndex:f&&"hover"===f.state?1:0})});return{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:h,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:b.column.prototype.pointAttribs,colorAttribs:function(f){var d={};!p(f.color)||
f.state&&"normal"!==f.state||(d[this.colorProp||"fill"]=f.color);return d}}}});v(b,"Maps/MapSymbols.js",[b["Core/Renderer/SVG/SVGRenderer.js"]],function(b){function k(b,h,p,f,d,u,n,m){return[["M",b+d,h],["L",b+p-u,h],["C",b+p-u/2,h,b+p,h+u/2,b+p,h+u],["L",b+p,h+f-n],["C",b+p,h+f-n/2,b+p-n/2,h+f,b+p-n,h+f],["L",b+m,h+f],["C",b+m/2,h+f,b,h+f-m/2,b,h+f-m],["L",b,h+d],["C",b,h+d/2,b+d/2,h,b+d,h],["Z"]]}b=b.prototype.symbols;b.bottombutton=function(b,h,p,f,d){d=d&&d.r||0;return k(b-1,h-1,p,f,0,0,d,d)};
b.topbutton=function(b,h,p,f,d){d=d&&d.r||0;return k(b-1,h-1,p,f,d,d,0,0)};return b});v(b,"Core/Chart/MapChart.js",[b["Core/Chart/Chart.js"],b["Core/DefaultOptions.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],function(b,k,q,h){var p=this&&this.__extends||function(){var b=function(d,f){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g])};return b(d,f)};return function(d,f){function a(){this.constructor=
d}b(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}(),f=k.getOptions,d=h.merge,u=h.pick;b=function(b){function m(){return null!==b&&b.apply(this,arguments)||this}p(m,b);m.prototype.init=function(m,a){var c=f().credits;m=d({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:u(c.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:u(c.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},m);b.prototype.init.call(this,
m,a)};return m}(b);(function(b){b.maps={};b.mapChart=function(d,f,a){return new b(d,f,a)};b.splitPath=function(b){"string"===typeof b&&(b=b.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),b=b.split(/[ ,;]+/).map(function(b){return/[A-za-z]/.test(b)?b:parseFloat(b)}));return q.prototype.pathToSegments(b)}})(b||(b={}));return b});v(b,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(b){var k=-Number.MAX_VALUE,q=Number.MAX_VALUE,h=-Number.MAX_VALUE,p=Number.MAX_VALUE,
f;b.forEach(function(b){var d=b[b.length-2];b=b[b.length-1];"number"===typeof d&&"number"===typeof b&&(q=Math.min(q,d),k=Math.max(k,d),p=Math.min(p,b),h=Math.max(h,b),f=!0)});if(f)return{x1:q,y1:p,x2:k,y2:h}},pointInPolygon:function(b,k){var q,h=!1,p=b.x,f=b.y;b=0;for(q=k.length-1;b<k.length;q=b++){var d=k[b][1]>f;var u=k[q][1]>f;d!==u&&p<(k[q][0]-k[b][0])*(f-k[b][1])/(k[q][1]-k[b][1])+k[b][0]&&(h=!h)}return h}}});v(b,"Series/Map/MapPoint.js",[b["Series/ColorMapMixin.js"],b["Maps/MapUtilities.js"],
b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,q,h){var p=this&&this.__extends||function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var c in g)g.hasOwnProperty(c)&&(a[c]=g[c])};return b(d,a)};return function(d,a){function c(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),f=k.boundsFromPath,d=h.extend,u=h.isNumber,n=h.pick;k=function(b){function m(){var a=
null!==b&&b.apply(this,arguments)||this;a.options=void 0;a.path=void 0;a.series=void 0;return a}p(m,b);m.getProjectedPath=function(a,c){a.projectedPath||(c&&a.geometry?(c.hasCoordinates=!0,a.projectedPath=c.path(a.geometry)):a.projectedPath=a.path);return a.projectedPath||[]};m.prototype.applyOptions=function(a,c){var g=this.series;a=b.prototype.applyOptions.call(this,a,c);c=g.joinBy;g.mapData&&g.mapMap&&(c=b.prototype.getNestedProperty.call(a,c[1]),(g="undefined"!==typeof c&&g.mapMap[c])?d(a,g):
a.value=a.value||null);return a};m.prototype.getProjectedBounds=function(a){a=m.getProjectedPath(this,a);a=f(a);var c=this.properties;if(a){var g=c&&c["hc-middle-x"];c=c&&c["hc-middle-y"];a.midX=a.x1+(a.x2-a.x1)*n(this.middleX,u(g)?g:.5);g=n(this.middleY,u(c)?c:.5);this.geometry||(g=1-g);a.midY=a.y2-(a.y2-a.y1)*g;return a}};m.prototype.onMouseOver=function(a){h.clearTimeout(this.colorInterval);if(!this.isNull||this.series.options.nullInteraction)b.prototype.onMouseOver.call(this,a);else this.series.onMouseOut(a)};
m.prototype.zoomTo=function(){var a=this.series.chart;a.mapView&&this.bounds&&(a.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,a.redraw())};return m}(q.seriesTypes.scatter.prototype.pointClass);d(k.prototype,{dataLabelOnNull:b.PointMixin.dataLabelOnNull,isValid:b.PointMixin.isValid,moveToTopOnHover:b.PointMixin.moveToTopOnHover});return k});v(b,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},
zoom:void 0}});v(b,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}});v(b,"Extensions/GeoJSON.js",[b["Core/Chart/Chart.js"],b["Core/FormatUtilities.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k,q,h){function p(a,c){c||(c=Object.keys(a.objects)[0]);c=a.objects[c];if(c["hc-decoded-geojson"])return c["hc-decoded-geojson"];var g=a.arcs;if(a.transform){var b=a.transform,
d=b.scale,f=b.translate;g=a.arcs.map(function(a){var c=0,e=0;return a.map(function(a){a=a.slice();a[0]=(c+=a[0])*d[0]+f[0];a[1]=(e+=a[1])*d[1]+f[1];return a})})}var r=function(a){return"number"===typeof a[0]?a.reduce(function(a,e,c){var b=0>e?g[~e]:g[e];0>e?(b=b.slice(0,0===c?b.length:b.length-1),b.reverse()):c&&(b=b.slice(1));return a.concat(b)},[]):a.map(r)};b=c.geometries.map(function(a){return{type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||r(a.arcs)}}});
a={type:"FeatureCollection",copyright:a.copyright,copyrightShort:a.copyrightShort,copyrightUrl:a.copyrightUrl,features:b,"hc-recommended-mapview":c["hc-recommended-mapview"],bbox:a.bbox,title:a.title};return c["hc-decoded-geojson"]=a}function f(a,c,b){void 0===c&&(c="map");var g=[];a="Topology"===a.type?p(a):a;a.features.forEach(function(a){var b=a.geometry||{},d=b.type;b=b.coordinates;a=a.properties;var t;"map"!==c&&"mapbubble"!==c||"Polygon"!==d&&"MultiPolygon"!==d?"mapline"!==c||"LineString"!==
d&&"MultiLineString"!==d?"mappoint"===c&&"Point"===d&&b.length&&(t={geometry:{coordinates:b,type:d}}):b.length&&(t={geometry:{coordinates:b,type:d}}):b.length&&(t={geometry:{coordinates:b,type:d}});t&&(d=a&&(a.name||a.NAME),g.push(m(t,{name:"string"===typeof d?d:void 0,properties:a})))});b&&a.copyrightShort&&(b.chart.mapCredits=d(b.chart.options.credits.mapText,{geojson:a}),b.chart.mapCreditsFull=d(b.chart.options.credits.mapTextFull,{geojson:a}));return g}var d=k.format,u=q.win,n=h.error,m=h.extend,
y=h.merge;k=h.wrap;"";b.prototype.transformFromLatLon=function(a,c){var b=this.options.chart.proj4||u.proj4;if(b){var d=c.jsonmarginX;d=void 0===d?0:d;var f=c.jsonmarginY;f=void 0===f?0:f;var m=c.jsonres;m=void 0===m?1:m;var r=c.scale;r=void 0===r?1:r;var h=c.xoffset;h=void 0===h?0:h;var p=c.xpan;p=void 0===p?0:p;var e=c.yoffset;e=void 0===e?0:e;var l=c.ypan;l=void 0===l?0:l;a=b(c.crs,[a.lon,a.lat]);b=c.cosAngle||c.rotation&&Math.cos(c.rotation);var k=c.sinAngle||c.rotation&&Math.sin(c.rotation);
c=c.rotation?[a[0]*b+a[1]*k,-a[0]*k+a[1]*b]:a;return{x:((c[0]-h)*r+p)*m+d,y:-(((e-c[1])*r+l)*m-f)}}n(21,!1,this)};b.prototype.transformToLatLon=function(a,c){var b=this.options.chart.proj4||u.proj4;if(!b)n(21,!1,this);else if(null!==a.y){var d=c.jsonmarginX,f=c.jsonmarginY,m=c.jsonres;m=void 0===m?1:m;var r=c.scale;r=void 0===r?1:r;var h=c.xoffset,p=c.xpan,e=c.yoffset,l=c.ypan;a={x:((a.x-(void 0===d?0:d))/m-(void 0===p?0:p))/r+(void 0===h?0:h),y:((a.y-(void 0===f?0:f))/m+(void 0===l?0:l))/r+(void 0===
e?0:e)};d=c.cosAngle||c.rotation&&Math.cos(c.rotation);f=c.sinAngle||c.rotation&&Math.sin(c.rotation);c=b(c.crs,"WGS84",c.rotation?{x:a.x*d+a.y*-f,y:a.x*f+a.y*d}:a);return{lat:c.y,lon:c.x}}};b.prototype.fromPointToLatLon=function(a){return this.mapView&&this.mapView.projectedUnitsToLonLat(a)};b.prototype.fromLatLonToPoint=function(a){return this.mapView&&this.mapView.lonLatToProjectedUnits(a)};k(b.prototype,"addCredits",function(a,c){c=y(!0,this.options.credits,c);this.mapCredits&&(c.href=null);a.call(this,
c);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})});q.geojson=f;return{geojson:f,topo2geo:p}});v(b,"Core/Geometry/PolygonClip.js",[],function(){var b=function(b,p,f){return(p[0]-b[0])*(f[1]-b[1])>(p[1]-b[1])*(f[0]-b[0])},k=function(b,p,f,d){var h=[b[0]-p[0],b[1]-p[1]],n=[f[0]-d[0],f[1]-d[1]];b=b[0]*p[1]-b[1]*p[0];f=f[0]*d[1]-f[1]*d[0];d=1/(h[0]*n[1]-h[1]*n[0]);h=[(b*n[0]-f*h[0])*d,(b*n[1]-f*h[1])*d];h.isIntersection=!0;return h},q;(function(h){h.clipLineString=function(b,
f){var d=[];b=h.clipPolygon(b,f,!1);for(f=1;f<b.length;f++)b[f].isIntersection&&b[f-1].isIntersection&&(d.push(b.splice(0,f)),f=0),f===b.length-1&&d.push(b);return d};h.clipPolygon=function(h,f,d){void 0===d&&(d=!0);for(var p=f[f.length-1],n,m,q=h,a=0;a<f.length;a++){var c=q;h=f[a];q=[];n=d?c[c.length-1]:c[0];for(var g=0;g<c.length;g++)m=c[g],b(p,h,m)?(b(p,h,n)||q.push(k(p,h,n,m)),q.push(m)):b(p,h,n)&&q.push(k(p,h,n,m)),n=m;p=h}return q}})(q||(q={}));return q});v(b,"Maps/Projections/LambertConformalConic.js",
[],function(){var b=Math.sign||function(b){return 0===b?0:0<b?1:-1},k=Math.PI/180,q=Math.PI/2;return function(){function h(h){var f,d=(h.parallels||[]).map(function(b){return b*k}),p=d[0]||0;d=null!==(f=d[1])&&void 0!==f?f:p;f=Math.cos(p);"object"===typeof h.projectedBounds&&(this.projectedBounds=h.projectedBounds);h=p===d?Math.sin(p):Math.log(f/Math.cos(d))/Math.log(Math.tan((q+d)/2)/Math.tan((q+p)/2));1e-10>Math.abs(h)&&(h=1e-10*(b(h)||1));this.n=h;this.c=f*Math.pow(Math.tan((q+p)/2),h)/h}h.prototype.forward=
function(b){var f=b[0]*k,d=this.c,h=this.n,n=this.projectedBounds;b=b[1]*k;0<d?b<-q+.000001&&(b=-q+.000001):b>q-.000001&&(b=q-.000001);var m=d/Math.pow(Math.tan((q+b)/2),h);b=m*Math.sin(h*f)*63.78137;f=63.78137*(d-m*Math.cos(h*f));d=[b,f];n&&(b<n.x1||b>n.x2||f<n.y1||f>n.y2)&&(d.outside=!0);return d};h.prototype.inverse=function(h){var f=h[0]/63.78137,d=this.c,p=this.n;h=d-h[1]/63.78137;var n=b(p)*Math.sqrt(f*f+h*h),m=Math.atan2(f,Math.abs(h))*b(h);0>h*p&&(m-=Math.PI*b(f)*b(h));return[m/p/k,(2*Math.atan(Math.pow(d/
n,1/p))-q)/k]};return h}()});v(b,"Maps/Projections/EqualEarth.js",[],function(){var b=Math.sqrt(3)/2;return function(){function k(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}k.prototype.forward=function(k){var h=Math.PI/180,p=Math.asin(b*Math.sin(k[1]*h)),f=p*p,d=f*f*f;return[k[0]*h*Math.cos(p)*74.03120656864502/(b*(1.340264+3*-.081106*f+d*(7*.000893+.034164*f))),74.03120656864502*p*(1.340264+-.081106*f+d*(.000893+.003796*f))]};k.prototype.inverse=
function(k){var h=k[0]/74.03120656864502;k=k[1]/74.03120656864502;var p=180/Math.PI,f=k,d;for(d=0;12>d;++d){var q=f*f;var n=q*q*q;var m=f*(1.340264+-.081106*q+n*(.000893+.003796*q))-k;q=1.340264+3*-.081106*q+n*(7*.000893+.034164*q);f-=m/=q;if(1e-9>Math.abs(m))break}q=f*f;return[p*b*h*(1.340264+3*-.081106*q+q*q*q*(7*.000893+.034164*q))/Math.cos(f),p*Math.asin(Math.sin(f)/b)]};return k}()});v(b,"Maps/Projections/Miller.js",[],function(){var b=Math.PI/4,k=Math.PI/180;return function(){function q(){this.bounds=
{x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}q.prototype.forward=function(h){return[h[0]*k*63.78137,79.7267125*Math.log(Math.tan(b+.4*h[1]*k))]};q.prototype.inverse=function(h){return[h[0]/63.78137/k,2.5*(Math.atan(Math.exp(h[1]/63.78137*.8))-b)/k]};return q}()});v(b,"Maps/Projections/Orthographic.js",[],function(){var b=Math.PI/180;return function(){function k(){this.antimeridianCutting=!1;this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,
y2:63.78460826781007}}k.prototype.forward=function(k){var h=k[0];k=k[1]*b;k=[Math.cos(k)*Math.sin(h*b)*63.78460826781007,63.78460826781007*Math.sin(k)];if(-90>h||90<h)k.outside=!0;return k};k.prototype.inverse=function(k){var h=k[0]/63.78460826781007;k=k[1]/63.78460826781007;var p=Math.sqrt(h*h+k*k),f=Math.asin(p),d=Math.sin(f);return[Math.atan2(h*d,p*Math.cos(f))/b,Math.asin(p&&k*d/p)/b]};return k}()});v(b,"Maps/Projections/WebMercator.js",[],function(){var b=Math.PI/180;return function(){function k(){this.bounds=
{x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071};this.maxLatitude=85.0511287798}k.prototype.forward=function(k){var h=Math.sin(k[1]*b);h=[63.78137*k[0]*b,63.78137*Math.log((1+h)/(1-h))/2];85.0511287798<Math.abs(k[1])&&(h.outside=!0);return h};k.prototype.inverse=function(k){return[k[0]/(63.78137*b),(2*Math.atan(Math.exp(k[1]/63.78137))-Math.PI/2)/b]};return k}()});v(b,"Maps/Projections/ProjectionRegistry.js",[b["Maps/Projections/LambertConformalConic.js"],
b["Maps/Projections/EqualEarth.js"],b["Maps/Projections/Miller.js"],b["Maps/Projections/Orthographic.js"],b["Maps/Projections/WebMercator.js"]],function(b,k,q,h,p){return{EqualEarth:k,LambertConformalConic:b,Miller:q,Orthographic:h,WebMercator:p}});v(b,"Maps/Projection.js",[b["Core/Geometry/PolygonClip.js"],b["Maps/Projections/ProjectionRegistry.js"],b["Core/Utilities.js"]],function(b,k,q){var h=this&&this.__spreadArray||function(b,a,c){if(c||2===arguments.length)for(var g=0,d=a.length,f;g<d;g++)!f&&
g in a||(f||(f=Array.prototype.slice.call(a,0,g)),f[g]=a[g]);return b.concat(f||Array.prototype.slice.call(a))},p=b.clipLineString,f=b.clipPolygon,d=q.clamp,u=q.erase,n=2*Math.PI/360,m=function(b){-180>b&&(b+=360);180<b&&(b-=360);return b};return function(){function b(a){void 0===a&&(a={});this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=90;this.options=a;var c=a.name,g=a.projectedBounds,d=a.rotation;this.rotator=d?this.getRotator(d):void 0;if(c=c?b.registry[c]:void 0)this.def=new c(a);
var f=this.def,m=this.rotator;f&&(this.maxLatitude=f.maxLatitude||90,this.hasGeoProjection=!0);m&&f?(this.forward=function(a){return f.forward(m.forward(a))},this.inverse=function(a){return m.inverse(f.inverse(a))}):f?(this.forward=function(a){return f.forward(a)},this.inverse=function(a){return f.inverse(a)}):m&&(this.forward=m.forward,this.inverse=m.inverse);this.bounds="world"===g?f&&f.bounds:g}b.add=function(a,c){b.registry[a]=c};b.greatCircle=function(a,b,g){var c=Math.atan2,d=Math.cos,f=Math.sin,
m=Math.sqrt,h=a[1]*n,k=a[0]*n,e=b[1]*n,l=b[0]*n,p=e-h,q=l-k;p=f(p/2)*f(p/2)+d(h)*d(e)*f(q/2)*f(q/2);p=2*c(m(p),m(1-p));var u=Math.round(6371E3*p/5E5);q=[];g&&q.push(a);if(1<u)for(u=a=1/u;.999>u;u+=a){var C=f((1-u)*p)/f(p),G=f(u*p)/f(p),x=C*d(h)*d(k)+G*d(e)*d(l),A=C*d(h)*f(k)+G*d(e)*f(l);C=C*f(h)+G*f(e);C=c(C,m(x*x+A*A));x=c(A,x);q.push([x/n,C/n])}g&&q.push(b);return q};b.insertGreatCircles=function(a){for(var c=a.length-1;c--;)if(10<Math.max(Math.abs(a[c][0]-a[c+1][0]),Math.abs(a[c][1]-a[c+1][1]))){var g=
b.greatCircle(a[c],a[c+1]);g.length&&a.splice.apply(a,h([c+1,0],g,!1))}};b.toString=function(a){a=a||{};var b=a.rotation;return[a.name,b&&b.join(",")].join(";")};b.prototype.lineIntersectsBounds=function(a){var b=this.bounds||{},g=b.x2,d=b.y1,f=b.y2,m=function(a,b,e){var c=a[0];a=a[1];var g=b?0:1;if("number"===typeof e&&c[b]>=e!==a[b]>=e)return c=c[g]+(e-c[b])/(a[b]-c[b])*(a[g]-c[g]),b?[c,e]:[e,c]},h=a[0];if(b=m(a,0,b.x1))h=b,a[1]=b;else if(b=m(a,0,g))h=b,a[1]=b;if(b=m(a,1,d))h=b;else if(b=m(a,1,
f))h=b;return h};b.prototype.getRotator=function(a){var b=a[0]*n,g=(a[1]||0)*n;a=(a[2]||0)*n;var d=Math.cos(g),f=Math.sin(g),m=Math.cos(a),h=Math.sin(a);if(0!==b||0!==g||0!==a)return{forward:function(a){var c=a[0]*n+b,e=a[1]*n,g=Math.cos(e);a=Math.cos(c)*g;c=Math.sin(c)*g;e=Math.sin(e);g=e*d+a*f;return[Math.atan2(c*m-g*h,a*d-e*f)/n,Math.asin(g*m+c*h)/n]},inverse:function(a){var c=a[0]*n,e=a[1]*n,g=Math.cos(e);a=Math.cos(c)*g;c=Math.sin(c)*g;e=Math.sin(e);g=e*m-c*h;return[(Math.atan2(c*m+e*h,a*d+g*
f)-b)/n,Math.asin(g*d-a*f)/n]}}};b.prototype.forward=function(a){return a};b.prototype.inverse=function(a){return a};b.prototype.cutOnAntimeridian=function(a,c){var g=[],f=[a];a.forEach(function(b,e){var l=a[e-1];if(!e){if(!c)return;l=a[a.length-1]}var f=l[0],x=b[0];(-90>f||90<f)&&(-90>x||90<x)&&0<f!==0<x&&(x=d((180-(f+360)%360)/((x+360)%360-(f+360)%360),0,1),g.push({i:e,lat:l[1]+x*(b[1]-l[1]),direction:0>f?1:-1,previousLonLat:l,lonLat:b}))});if(g.length)if(c){if(1===g.length%2){var k=g.slice().sort(function(a,
b){return Math.abs(b.lat)-Math.abs(a.lat)})[0];u(g,k)}for(var n=g.length-2;0<=n;){var r=g[n].i,p=m(180+.000001*g[n].direction),w=m(180-.000001*g[n].direction);r=a.splice.apply(a,h([r,g[n+1].i-r],b.greatCircle([p,g[n].lat],[p,g[n+1].lat],!0),!1));r.push.apply(r,b.greatCircle([w,g[n+1].lat],[w,g[n].lat],!0));f.push(r);n-=2}if(k)for(p=0;p<f.length;p++){n=k.direction;var e=k.lat;w=f[p];r=w.indexOf(k.lonLat);if(-1<r){p=(0>e?-1:1)*this.maxLatitude;var l=m(180+.000001*n),q=m(180-.000001*n);e=b.greatCircle([l,
e],[l,p],!0);for(l+=120*n;-180<l&&180>l;l+=120*n)e.push([l,p]);e.push.apply(e,b.greatCircle([q,p],[q,k.lat],!0));w.splice.apply(w,h([r,0],e,!1));break}}}else for(n=g.length;n--;)r=g[n].i,r=a.splice(r,a.length,[m(180+.000001*g[n].direction),g[n].lat]),r.unshift([m(180-.000001*g[n].direction),g[n].lat]),f.push(r);return f};b.prototype.path=function(a){var c=this,g=this.bounds,d=this.def,m=this.rotator,h=[],r="Polygon"===a.type||"MultiPolygon"===a.type,n=this.hasGeoProjection,k=!d||!1!==d.antimeridianCutting,
e=k?m:void 0,l=k?d||this:this,q;g&&(q=[[g.x1,g.y1],[g.x2,g.y1],[g.x2,g.y2],[g.x1,g.y2]]);var u=function(a){a=a.map(function(a){if(k){e&&(a=e.forward(a));var b=a[0];.000001>Math.abs(b-180)&&(b=180>b?179.999999:180.000001);a=[b,a[1]]}return a});var d=[a];n&&(b.insertGreatCircles(a),k&&(d=c.cutOnAntimeridian(a,r)));d.forEach(function(a){if(!(2>a.length)){var e=!1,c=!1,d=function(a){e?h.push(["L",a[0],a[1]]):(h.push(["M",a[0],a[1]]),e=!0)},m=!1,t=!1,w=a.map(function(a){a=l.forward(a);a.outside?m=!0:t=
!0;Infinity===a[1]?a[1]=1E10:-Infinity===a[1]&&(a[1]=-1E10);return a});if(k){r&&w.push(w[0]);if(m){if(!t)return;if(q)if(r)w=f(w,q);else if(g){p(w,q).forEach(function(a){e=!1;a.forEach(d)});return}}w.forEach(d)}else for(var K=0;K<w.length;K++){var u=a[K],B=w[K];if(B.outside)c=!0;else{if(r&&!G){var G=u;a.push(u);w.push(B)}c&&z&&(r&&n?b.greatCircle(z,u).forEach(function(a){return d(l.forward(a))}):e=!1);d(B);var z=u;c=!1}}}})};"LineString"===a.type?u(a.coordinates):"MultiLineString"===a.type?a.coordinates.forEach(function(a){return u(a)}):
"Polygon"===a.type?(a.coordinates.forEach(function(a){return u(a)}),h.length&&h.push(["Z"])):"MultiPolygon"===a.type&&(a.coordinates.forEach(function(a){a.forEach(function(a){return u(a)})}),h.length&&h.push(["Z"]));return h};b.registry=k;return b}()});v(b,"Maps/MapView.js",[b["Maps/MapViewOptionsDefault.js"],b["Maps/MapViewInsetsOptionsDefault.js"],b["Extensions/GeoJSON.js"],b["Core/Chart/MapChart.js"],b["Maps/MapUtilities.js"],b["Maps/Projection.js"],b["Core/Utilities.js"]],function(b,k,q,h,p,f,
d){var u=this&&this.__extends||function(){var a=function(b,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return a(b,e)};return function(b,e){function c(){this.constructor=b}a(b,e);b.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}}(),n=this&&this.__spreadArray||function(a,b,e){if(e||2===arguments.length)for(var c=0,g=b.length,d;c<g;c++)!d&&c in b||(d||(d=Array.prototype.slice.call(b,
0,c)),d[c]=b[c]);return a.concat(d||Array.prototype.slice.call(b))},m=q.topo2geo,y=h.maps,a=p.boundsFromPath,c=p.pointInPolygon,g=d.addEvent,t=d.clamp,D=d.fireEvent,F=d.isArray,r=d.isNumber,z=d.isObject,w=d.isString,e=d.merge,l=d.pick,B=d.relativeLength,H=function(a,b){return Math.log(400.979322/Math.max((a.x2-a.x1)/(b.width/256),(a.y2-a.y1)/(b.height/256)))/Math.log(2)},I=function(){function a(c,d){var l=this;this.insets=[];this.padding=[0,0,0,0];this.eventsToUnbind=[];var m;if(!(this instanceof
C)){var x=n([c.options.chart.map],(c.options.series||[]).map(function(a){return a.mapData}),!0).map(function(a){return l.getGeoMap(a)}),h=[];x.forEach(function(a){a&&(m||(m=a["hc-recommended-mapview"]),a.bbox&&(a=a.bbox,h.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))});var A=h.length&&a.compositeBounds(h);if(A){var k=A.x1;var t=A.y1,p=A.x2;A=A.y2;k=180<p-k&&90<A-t?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[t,A],rotation:[-(k+p)/2]}}this.geoMap=x[0]}this.userOptions=d||{};x=e(b,{projection:k},
m,d);A=m&&m.insets;d=d&&d.insets;A&&d&&(x.insets=a.mergeInsets(A,d));this.chart=c;this.center=x.center;this.options=x;this.projection=new f(x.projection);this.playingField=c.plotBox;this.zoom=x.zoom||0;this.createInsets();this.eventsToUnbind.push(g(c,"afterSetChartSize",function(){l.playingField=l.getField();if(void 0===l.minZoom||l.minZoom===l.zoom)l.fitToBounds(void 0,void 0,!1),!l.chart.hasRendered&&r(l.userOptions.zoom)&&(l.zoom=l.userOptions.zoom),l.userOptions.center&&e(!0,l.center,l.userOptions.center)}));
this.setUpEvents()}a.mergeInsets=function(a,b){var c=function(a){var b={};a.forEach(function(a,e){b[a&&a.id||"i".concat(e)]=a});return b},d=e(c(a),c(b));return Object.keys(d).map(function(a){return d[a]})};a.prototype.createInsets=function(){var a=this,b=this.options,c=b.insets;c&&c.forEach(function(c){c=new C(a,e(b.insetOptions,c));a.insets.push(c)})};a.prototype.fitToBounds=function(a,b,c,e){void 0===c&&(c=!0);var d=a||this.getProjectedBounds();if(d){var g=l(b,a?0:this.options.padding);b=this.getField(!1);
g=F(g)?g:[g,g,g,g];this.padding=[B(g[0],b.height),B(g[1],b.width),B(g[2],b.height),B(g[3],b.width)];this.playingField=this.getField();b=H(d,this.playingField);a||(this.minZoom=b);a=this.projection.inverse([(d.x2+d.x1)/2,(d.y2+d.y1)/2]);this.setView(a,b,c,e)}};a.prototype.getField=function(a){void 0===a&&(a=!0);a=a?this.padding:[0,0,0,0];return{x:a[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}};a.prototype.getGeoMap=function(a){if(w(a))return y[a];if(z(a,!0)){if("FeatureCollection"===
a.type)return a;if("Topology"===a.type)return m(a)}};a.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),b=this.getScale();if(a){var c=this.padding,e=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+c[1]+c[3],height:(a.y2-a.y1)*b+c[0]+c[2],x:e.x-c[3],y:e.y-c[0]}}};a.prototype.getProjectedBounds=function(){var b=this.chart.series.reduce(function(a,b){var c=b.getProjectedBounds&&b.getProjectedBounds();c&&!1!==b.options.affectsMapView&&a.push(c);return a},[]);return this.projection.bounds||
a.compositeBounds(b)};a.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)};a.prototype.getSVGTransform=function(){var a=this.playingField,b=a.x,c=a.y,e=a.width;a=a.height;var d=this.projection.forward(this.center),g=this.projection.hasCoordinates?-1:1,l=this.getScale();g*=l;return{scaleX:l,scaleY:g,translateX:b+e/2-d[0]*l,translateY:c+a/2-d[1]*g}};a.prototype.lonLatToPixels=function(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)};a.prototype.lonLatToProjectedUnits=
function(a){var b=this.chart,e=b.mapTransforms;if(e){for(var d in e)if(Object.hasOwnProperty.call(e,d)&&e[d].hitZone){var g=b.transformFromLatLon(a,e[d]);if(g&&c(g,e[d].hitZone.coordinates[0]))return g}return b.transformFromLatLon(a,e["default"])}e=0;for(d=this.insets;e<d.length;e++)if(b=d[e],b.options.geoBounds&&c({x:a.lon,y:a.lat},b.options.geoBounds.coordinates[0]))return a=b.projection.forward([a.lon,a.lat]),a=b.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(a);a=this.projection.forward([a.lon,
a.lat]);if(!a.outside)return{x:a[0],y:a[1]}};a.prototype.projectedUnitsToLonLat=function(a){var b=this.chart,e=b.mapTransforms;if(e){for(var d in e)if(Object.hasOwnProperty.call(e,d)&&e[d].hitZone&&c(a,e[d].hitZone.coordinates[0]))return b.transformToLatLon(a,e[d]);return b.transformToLatLon(a,e["default"])}e=this.projectedUnitsToPixels(a);d=0;for(var g=this.insets;d<g.length;d++)if(b=g[d],b.hitZone&&c(e,b.hitZone.coordinates[0]))return a=b.pixelsToProjectedUnits(e),a=b.projection.inverse([a.x,a.y]),
{lon:a[0],lat:a[1]};a=this.projection.inverse([a.x,a.y]);return{lon:a[0],lat:a[1]}};a.prototype.redraw=function(a){this.chart.series.forEach(function(a){a.useMapGeometry&&(a.isDirty=!0)});this.chart.redraw(a)};a.prototype.setView=function(a,b,e,c){void 0===e&&(e=!0);a&&(this.center=a);"number"===typeof b&&("number"===typeof this.minZoom&&(b=Math.max(b,this.minZoom)),"number"===typeof this.options.maxZoom&&(b=Math.min(b,this.options.maxZoom)),r(b)&&(this.zoom=b));var d=this.getProjectedBounds();if(d){a=
this.projection.forward(this.center);var g=this.playingField;b=g.x;var l=g.y,f=g.width;g=g.height;var m=this.getScale(),h=this.projectedUnitsToPixels({x:d.x1,y:d.y1}),k=this.projectedUnitsToPixels({x:d.x2,y:d.y2});d=[(d.x1+d.x2)/2,(d.y1+d.y2)/2];var n=h.x,t=k.y;k=k.x;h=h.y;k-n<f?a[0]=d[0]:n<b&&k<b+f?a[0]+=Math.max(n-b,k-f-b)/m:k>b+f&&n>b&&(a[0]+=Math.min(k-f-b,n-b)/m);h-t<g?a[1]=d[1]:t<l&&h<l+g?a[1]-=Math.max(t-l,h-g-l)/m:h>l+g&&t>l&&(a[1]-=Math.min(h-g-l,t-l)/m);this.center=this.projection.inverse(a);
this.insets.forEach(function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())});this.render()}D(this,"afterSetView");e&&this.redraw(c)};a.prototype.projectedUnitsToPixels=function(a){var b=this.getScale(),e=this.projection.forward(this.center),c=this.playingField;return{x:c.x+c.width/2-b*(e[0]-a.x),y:c.y+c.height/2+b*(e[1]-a.y)}};a.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))};a.prototype.pixelsToProjectedUnits=function(a){var b=
a.x;a=a.y;var e=this.getScale(),c=this.projection.forward(this.center),d=this.playingField;return{x:c[0]+(b-(d.x+d.width/2))/e,y:c[1]-(a-(d.y+d.height/2))/e}};a.prototype.setUpEvents=function(){var a=this,b=this.chart,e,c,d,l=function(g){var l=b.pointer.pinchDown,f=a.projection,m=b.mouseDownX,h=b.mouseDownY;1===l.length&&(m=l[0].chartX,h=l[0].chartY);if("number"===typeof m&&"number"===typeof h){var k=""+m+",".concat(h),n=g.originalEvent;l=n.chartX;n=n.chartY;k!==c&&(c=k,e=a.projection.forward(a.center),
d=(a.projection.options.rotation||[0,0]).slice());k=(k=f.def&&f.def.bounds)&&H(k,a.playingField)||-Infinity;"Orthographic"===f.options.name&&(a.minZoom||Infinity)<1.1*k?(f=440/(a.getScale()*Math.min(b.plotWidth,b.plotHeight)),d&&(m=(m-l)*f-d[0],h=t(-d[1]-(h-n)*f,-80,80),l=a.zoom,a.update({projection:{rotation:[-m,-h]}},!1),a.zoom=l,b.redraw(!1))):(f=a.getScale(),h=a.projection.inverse([e[0]+(m-l)/f,e[1]-(h-n)/f]),a.setView(h,void 0,!0,!1));g.preventDefault()}};g(b,"pan",l);g(b,"touchpan",l);g(b,"selection",
function(e){if(e.resetSelection)a.zoomBy();else{var c=e.x-b.plotLeft,d=e.y-b.plotTop,g=a.pixelsToProjectedUnits({x:c,y:d}),l=g.y;g=g.x;c=a.pixelsToProjectedUnits({x:c+e.width,y:d+e.height});a.fitToBounds({x1:g,y1:l,x2:c.x,y2:c.y},void 0,!0,e.originalEvent.touches?!1:void 0);/^touch/.test(e.originalEvent.type)||b.showResetZoom();e.preventDefault()}})};a.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())};a.prototype.update=function(a,b,c){void 0===
b&&(b=!0);var d=a.projection;d=d&&f.toString(d)!==f.toString(this.options.projection);var g=!1;e(!0,this.userOptions,a);e(!0,this.options,a);"insets"in a&&(this.insets.forEach(function(a){return a.destroy()}),this.insets.length=0,g=!0);if(d||g)this.chart.series.forEach(function(a){var b=a.transformGroups;a.clearBounds&&a.clearBounds();a.isDirty=!0;a.isDirtyData=!0;if(g&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()}),d&&(this.projection=new f(this.options.projection)),g&&this.createInsets(),a.center||
r(a.zoom)||this.fitToBounds(void 0,void 0,!1);(a.center||r(a.zoom))&&this.setView(this.options.center,a.zoom,!1);b&&this.chart.redraw(c)};a.prototype.zoomBy=function(a,b,e,c){var d=this.chart,g=this.projection.forward(this.center);b=b?this.projection.forward(b):[];var l=b[0],f=b[1];"number"===typeof a?(a=this.zoom+a,b=void 0,e&&(l=e[0],f=e[1],e=this.getScale(),l=l-d.plotLeft-d.plotWidth/2,d=f-d.plotTop-d.plotHeight/2,l=g[0]+l/e,f=g[1]+d/e),"number"===typeof l&&"number"===typeof f&&(e=1-Math.pow(2,
this.zoom)/Math.pow(2,a),l=g[0]-l,d=g[1]-f,g[0]-=l*e,g[1]+=d*e,b=this.projection.inverse(g)),this.setView(b,a,void 0,c)):this.fitToBounds(void 0,void 0,void 0,c)};a.compositeBounds=function(a){if(a.length)return a.slice(1).reduce(function(a,b){a.x1=Math.min(a.x1,b.x1);a.y1=Math.min(a.y1,b.y1);a.x2=Math.max(a.x2,b.x2);a.y2=Math.max(a.y2,b.y2);return a},e(a[0]))};return a}(),C=function(b){function d(c,d){var g=b.call(this,c.chart,d)||this;g.id=d.id;g.mapView=c;g.options=e(k,d);g.allBounds=[];g.options.geoBounds&&
(c=c.projection.path(g.options.geoBounds),g.geoBoundsProjectedBox=a(c),g.geoBoundsProjectedPolygon=c.map(function(a){return[a[1]||0,a[2]||0]}));return g}u(d,b);d.prototype.getField=function(a){void 0===a&&(a=!0);var e=this.hitZone;if(e){var c=a?this.padding:[0,0,0,0];e=e.coordinates[0];var d=e.map(function(a){return a[0]}),g=e.map(function(a){return a[1]});e=Math.min.apply(0,d)+c[3];d=Math.max.apply(0,d)-c[1];var l=Math.min.apply(0,g)+c[0];c=Math.max.apply(0,g)-c[2];if(r(e)&&r(l))return{x:e,y:l,width:d-
e,height:c-l}}return b.prototype.getField.call(this,a)};d.prototype.getHitZone=function(){var a=this.chart,b=this.mapView,c=this.options,d=(c.field||{}).coordinates;if(d){d=d[0];if("percent"===c.units){var g="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||e(a.plotBox,{x:0,y:0});d=d.map(function(a){return[B(""+a[0]+"%",g.width,g.x),B(""+a[1]+"%",g.height,g.y)]})}return{type:"Polygon",coordinates:[d]}}};d.prototype.getProjectedBounds=function(){return I.compositeBounds(this.allBounds)};d.prototype.isInside=
function(a){var b=this.geoBoundsProjectedBox,e=this.geoBoundsProjectedPolygon;return!!(b&&a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y1&&a.y<=b.y2&&e&&c(a,e))};d.prototype.render=function(){var a=this.chart,b=this.mapView,e=this.options,c=e.borderPath||e.field;if(c&&b.group){var d=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),d=!1);a.styledMode||this.border.attr({stroke:e.borderColor,"stroke-width":e.borderWidth});var g=Math.round(this.border.strokeWidth())%
2/2,l="mapBoundingBox"===e.relativeTo&&b.getMapBBox()||b.playingField;b=(c.coordinates||[]).reduce(function(b,c){return c.reduce(function(b,c,d){var f=c[0];c=c[1];"percent"===e.units&&(f=a.plotLeft+B(""+f+"%",l.width,l.x),c=a.plotTop+B(""+c+"%",l.height,l.y));f=Math.floor(f)+g;c=Math.floor(c)+g;b.push(0===d?["M",f,c]:["L",f,c]);return b},b)},[]);this.border[d?"animate":"attr"]({d:b})}};d.prototype.destroy=function(){this.border&&(this.border=this.border.destroy());this.eventsToUnbind.forEach(function(a){return a()})};
d.prototype.setUpEvents=function(){};return d}(I);g(h,"afterInit",function(){this.mapView=new I(this,this.options.mapView)});return I});v(b,"Series/Map/MapSeries.js",[b["Core/Animation/AnimationUtilities.js"],b["Series/ColorMapMixin.js"],b["Series/CenteredUtilities.js"],b["Core/Globals.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Chart/MapChart.js"],b["Series/Map/MapPoint.js"],b["Maps/MapView.js"],b["Core/Series/Series.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Renderer/SVG/SVGRenderer.js"],
b["Core/Utilities.js"]],function(b,k,q,h,p,f,d,u,n,m,y,a){var c=this&&this.__extends||function(){var a=function(b,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return a(b,e)};return function(b,e){function c(){this.constructor=b}a(b,e);b.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}}(),g=b.animObject;b=h.noop;var t=f.splitPath;f=m.seriesTypes;var D=f.column,F=f.scatter;
f=a.extend;var r=a.find,z=a.fireEvent,w=a.getNestedProperty,e=a.isArray,l=a.isNumber,B=a.isObject,H=a.merge,I=a.objectEach,C=a.pick,G=a.splat;a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.chart=void 0;b.data=void 0;b.group=void 0;b.joinBy=void 0;b.options=void 0;b.points=void 0;b.processedData=[];return b}c(b,a);b.prototype.animate=function(a){var b=this.chart,e=this.group,c=g(this.options.animation);b.renderer.isSVG&&(a?e.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+
b.plotHeight/2,scaleX:.001,scaleY:.001}):e.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},c))};b.prototype.animateDrilldown=function(a){var b=this.chart,e=this.group;b.renderer.isSVG&&(a?e.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(e.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),b.drilldown&&b.drilldown.fadeInGroup(this.dataLabelsGroup)))};
b.prototype.animateDrillupFrom=function(){var a=this.chart;a.renderer.isSVG&&this.group.animate({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})};b.prototype.animateDrillupTo=function(a){D.prototype.animateDrillupTo.call(this,a)};b.prototype.clearBounds=function(){this.points.forEach(function(a){delete a.bounds;delete a.insetIndex;delete a.projectedPath});delete this.bounds};b.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||
this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)};b.prototype.drawMapDataLabels=function(){n.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};b.prototype.drawPoints=function(){var a=this,b=this,e=this.chart,c=this.group,d=this.transformGroups,g=void 0===d?[]:d,l=e.mapView,f=e.renderer;l&&(this.transformGroups=g,g[0]||(g[0]=f.g().add(c)),l.insets.forEach(function(a,b){g[b+1]||g.push(f.g().add(c))}),this.doFullTranslate()&&
(this.points.forEach(function(b){var c=b.graphic,d=b.shapeArgs;b.group=g["number"===typeof b.insetIndex?b.insetIndex+1:0];c&&c.parentGroup!==b.group&&c.add(b.group);d&&e.hasRendered&&!e.styledMode&&(d.fill=a.pointAttribs(b,b.state).fill)}),D.prototype.drawPoints.apply(this),this.points.forEach(function(c){var d=c.graphic;if(d){var g=d.animate,l="";c.name&&(l+="highcharts-name-"+c.name.replace(/ /g,"-").toLowerCase());c.properties&&c.properties["hc-key"]&&(l+=" highcharts-key-"+c.properties["hc-key"].toString().toLowerCase());
l&&d.addClass(l);e.styledMode&&d.css(a.pointAttribs(c,c.selected&&"select"||void 0));d.animate=function(a,c,l){var f=!1;if(a["stroke-width"]){var m=C(b.getStrokeWidth(b.options),1)/(e.mapView&&e.mapView.getScale()||1);"inherit"===d["stroke-width"]&&(d["stroke-width"]=m);"inherit"===a["stroke-width"]&&(a["stroke-width"]=m,f=!0)}return g.call(d,a,c,f?function(){d.attr({"stroke-width":"inherit"});l&&l.apply(this,arguments)}:l)}}})),g.forEach(function(b,c){var d=(0===c?l:l.insets[c-1]).getSVGTransform(),
g=C(a.getStrokeWidth(a.options),1),m=d.scaleX,h=0<d.scaleY?1:-1;if(f.globalAnimation&&e.hasRendered){var k=Number(b.attr("translateX")),n=Number(b.attr("translateY")),t=Number(b.attr("scaleX"));b.attr({animator:0}).animate({animator:1},{step:function(a,e){a=t+(m-t)*e.pos;b.attr({translateX:k+(d.translateX-k)*e.pos,translateY:n+(d.translateY-n)*e.pos,scaleX:a,scaleY:a*h});b.element.setAttribute("stroke-width",g/a)}})}else b.attr(d),b.element.setAttribute("stroke-width",g/m)}),this.drawMapDataLabels())};
b.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,b=a.insets,c=a.projection,d=[];(this.points||[]).forEach(function(a){if(a.path||a.geometry){"string"===typeof a.path?a.path=t(a.path):e(a.path)&&"M"===a.path[0]&&(a.path=y.prototype.pathToSegments(a.path));if(!a.bounds){var g=a.getProjectedBounds(c);if(g){a.labelrank=C(a.labelrank,(g.x2-g.x1)*(g.y2-g.y1));var f=g.midX,m=g.midY;if(b&&l(f)&&l(m)){var h=r(b,function(a){return a.isInside({x:f,y:m})});
h&&(delete a.projectedPath,(g=a.getProjectedBounds(h.projection))&&h.allBounds.push(g),a.insetIndex=b.indexOf(h))}a.bounds=g}}a.bounds&&void 0===a.insetIndex&&d.push(a.bounds)}});this.bounds=u.compositeBounds(d)}return this.bounds};b.prototype.getStrokeWidth=function(a){var b=this.pointAttrToOptions;return a[b&&b["stroke-width"]||"borderWidth"]};b.prototype.hasData=function(){return!!this.processedXData.length};b.prototype.pointAttribs=function(a,b){var e=a.series.chart,c=e.mapView;e=e.styledMode?
this.colorAttribs(a):D.prototype.pointAttribs.call(this,a,b);var d=this.getStrokeWidth(a.options);b&&(a=H(this.options.states[b],a.options.states&&a.options.states[b]||{}),d=this.getStrokeWidth(a));d&&c&&(d/=c.getScale());a=this.getStrokeWidth(this.options);e.dashstyle&&c&&l(a)&&(d=a/c.getScale());e["stroke-width"]=C(d,"inherit");return e};b.prototype.updateData=function(){return this.processedData?!1:a.prototype.updateData.apply(this,arguments)};b.prototype.setData=function(b,e,c,d){void 0===e&&
(e=!0);delete this.bounds;a.prototype.setData.call(this,b,!1,void 0,d);this.processData();this.generatePoints();e&&this.chart.redraw(c)};b.prototype.processData=function(){var a=this.options,b=a.data,c=this.chart.options.chart,g=this.joinBy,f=a.keys||this.pointArrayMap,m=[],k={},n=this.chart.mapView;n=n&&(B(a.mapData,!0)?n.getGeoMap(a.mapData):n.geoMap);var t=this.chart.mapTransforms;(this.chart.mapTransforms=t=c.mapTransforms||n&&n["hc-transform"]||t)&&I(t,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),
a.sinAngle=Math.sin(a.rotation))});if(e(a.mapData))var r=a.mapData;else n&&"FeatureCollection"===n.type&&(this.mapTitle=n.title,r=h.geojson(n,this.type,this));var p=this.processedData=[];b&&b.forEach(function(c,m){var h=0;if(l(c))p[m]={value:c};else if(e(c)){p[m]={};!a.keys&&c.length>f.length&&"string"===typeof c[0]&&(p[m]["hc-key"]=c[0],++h);for(var n=0;n<f.length;++n,++h)f[n]&&"undefined"!==typeof c[h]&&(0<f[n].indexOf(".")?d.prototype.setNestedProperty(p[m],c[h],f[n]):p[m][f[n]]=c[h])}else p[m]=
b[m];g&&"_i"===g[0]&&(p[m]._i=m)});if(r){this.mapData=r;this.mapMap={};for(t=0;t<r.length;t++)c=r[t],n=c.properties,c._i=t,g[0]&&n&&n[g[0]]&&(c[g[0]]=n[g[0]]),k[c[g[0]]]=c;this.mapMap=k;if(g[1]){var q=g[1];p.forEach(function(a){a=w(q,a);k[a]&&m.push(k[a])})}if(a.allAreas){if(g[1]){var u=g[1];p.forEach(function(a){m.push(w(u,a))})}var z="|"+m.map(function(a){return a&&a[g[0]]}).join("|")+"|";r.forEach(function(a){g[0]&&-1!==z.indexOf("|"+a[g[0]]+"|")||p.push(H(a,{value:null}))})}}this.processedXData=
Array(p.length)};b.prototype.setOptions=function(a){a=n.prototype.setOptions.call(this,a);var b=a.joinBy;null===b&&(b="_i");b=this.joinBy=G(b);b[1]||(b[1]=b[0]);return a};b.prototype.translate=function(){var a=this.doFullTranslate(),b=this.chart.mapView,c=b&&b.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,this.getProjectedBounds());if(b){var e=b.getSVGTransform();this.points.forEach(function(g){var f=l(g.insetIndex)&&
b.insets[g.insetIndex].getSVGTransform()||e;f&&g.bounds&&l(g.bounds.midX)&&l(g.bounds.midY)&&(g.plotX=g.bounds.midX*f.scaleX+f.translateX,g.plotY=g.bounds.midY*f.scaleY+f.translateY);a&&(g.shapeType="path",g.shapeArgs={d:d.getProjectedPath(g,c)})})}z(this,"afterTranslate")};b.defaultOptions=H(F.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return l(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},
marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}});return b}(F);f(a.prototype,{type:"map",axisTypes:k.SeriesMixin.axisTypes,colorAttribs:k.SeriesMixin.colorAttribs,colorKey:k.SeriesMixin.colorKey,directTouch:!0,drawDataLabels:b,drawGraph:b,
drawLegendSymbol:p.drawRectangle,forceDL:!0,getCenter:q.getCenter,getExtremesFromAll:!0,getSymbol:k.SeriesMixin.getSymbol,isCartesian:!1,parallelArrays:k.SeriesMixin.parallelArrays,pointArrayMap:k.SeriesMixin.pointArrayMap,pointClass:d,preserveAspectRatio:!0,searchPoint:b,trackerGroups:k.SeriesMixin.trackerGroups,useMapGeometry:!0});m.registerSeriesType("map",a);"";return a});v(b,"Series/MapLine/MapLineSeries.js",[b["Series/Map/MapSeries.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],
function(b,k,q){var h=this&&this.__extends||function(){var b=function(d,f){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(d,f)};return function(d,f){function m(){this.constructor=d}b(d,f);d.prototype=null===f?Object.create(f):(m.prototype=f.prototype,new m)}}(),p=k.series,f=q.extend,d=q.merge;q=function(f){function n(){var b=null!==f&&f.apply(this,arguments)||this;b.data=void 0;b.options=
void 0;b.points=void 0;return b}h(n,f);n.prototype.pointAttribs=function(d,f){d=b.prototype.pointAttribs.call(this,d,f);d.fill=this.options.fillColor;return d};n.defaultOptions=d(b.defaultOptions,{lineWidth:1,fillColor:"none"});return n}(b);f(q.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:p.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});k.registerSeriesType("mapline",q);"";return q});v(b,"Series/MapPoint/MapPointPoint.js",[b["Core/Series/SeriesRegistry.js"],
b["Core/Utilities.js"]],function(b,k){var q=this&&this.__extends||function(){var b=function(f,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var f in d)d.hasOwnProperty(f)&&(b[f]=d[f])};return b(f,d)};return function(f,d){function h(){this.constructor=f}b(f,d);f.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}}(),h=k.isNumber;return function(b){function f(){var d=null!==b&&b.apply(this,arguments)||this;d.options=void 0;
d.series=void 0;return d}q(f,b);f.prototype.isValid=function(){return!!(this.options.geometry||h(this.x)&&h(this.y)||h(this.options.lon)&&h(this.options.lat))};return f}(b.seriesTypes.scatter.prototype.pointClass)});v(b,"Series/MapPoint/MapPointSeries.js",[b["Core/Globals.js"],b["Series/MapPoint/MapPointPoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,q,h){var p=this&&this.__extends||function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(a,c)};return function(a,c){function d(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b=b.noop;var f=q.seriesTypes.scatter,d=h.extend,u=h.fireEvent,n=h.isNumber,m=h.merge;h=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.chart=void 0;a.data=void 0;a.options=void 0;a.points=void 0;return a}p(a,b);a.prototype.drawDataLabels=
function(){b.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};a.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var c=a.geometry,d=a.lon;a=a.lat;c=c&&"Point"===c.type&&c.coordinates;n(d)&&n(a)&&(c=[d,a]);if(c)return b.lonLatToProjectedUnits({lon:c[0],lat:c[1]})}};a.prototype.translate=function(){var a=this,b=this.chart.mapView;this.processedXData||this.processData();this.generatePoints();this.getProjectedBounds&&this.isDirtyData&&
(delete this.bounds,this.getProjectedBounds());if(b){var d=b.projection.hasCoordinates;this.points.forEach(function(c){var g=c.x;g=void 0===g?void 0:g;var f=c.y;f=void 0===f?void 0:f;var h=a.projectPoint(c.options);h?(g=h.x,f=h.y):c.bounds&&(g=c.bounds.midX,f=c.bounds.midY);n(g)&&n(f)?(g=b.projectedUnitsToPixels({x:g,y:f}),c.plotX=g.x,c.plotY=d?g.y:a.chart.plotHeight-g.y):c.y=c.plotX=c.plotY=void 0;c.isInside=a.isPointInside(c);c.zone=a.zones.length?c.getZone():void 0})}u(this,"afterTranslate")};
a.defaultOptions=m(f.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}});return a}(f);d(h.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:k,searchPoint:b,useMapGeometry:!0});q.registerSeriesType("mappoint",h);"";return h});v(b,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,
connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});v(b,"Series/Bubble/BubbleLegendItem.js",[b["Core/Color/Color.js"],b["Core/FormatUtilities.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],
function(b,k,q,h){var p=b.parse,f=q.noop,d=h.arrayMax,u=h.arrayMin,n=h.isNumber,m=h.merge,y=h.pick,a=h.stableSort;"";return function(){function b(a,b){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0;this.setState=f;this.init(a,b)}b.prototype.init=function(a,b){this.options=a;this.visible=!0;this.chart=b.chart;this.legend=
b};b.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)};b.prototype.drawLegendSymbol=function(b){var c=this.chart,d=this.options,g=y(b.options.itemDistance,20),f=d.ranges,h=d.connectorDistance;this.fontMetrics=c.renderer.fontMetrics(d.labels.style.fontSize);f&&f.length&&n(f[0].value)?(a(f,function(a,b){return b.value-a.value}),this.ranges=f,this.setOptions(),this.render(),b=this.getMaxLabelSize(),f=this.ranges[0].radius,c=2*f,h=h-f+b.width,h=0<h?h:0,this.maxLabel=b,this.movementX=
"left"===d.labels.align?h:0,this.legendItemWidth=c+h+g,this.legendItemHeight=c+this.fontMetrics.h/2):b.options.bubbleLegend.autoRanges=!0};b.prototype.setOptions=function(){var a=this.ranges,b=this.options,c=this.chart.series[b.seriesIndex],d=this.legend.baseline,f={zIndex:b.zIndex,"stroke-width":b.borderWidth},h={zIndex:b.zIndex,"stroke-width":b.connectorWidth},k={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},e=c.options.marker.fillOpacity,l=this.chart.styledMode;
a.forEach(function(g,n){l||(f.stroke=y(g.borderColor,b.borderColor,c.color),f.fill=y(g.color,b.color,1!==e?p(c.color).setOpacity(e).get("rgba"):c.color),h.stroke=y(g.connectorColor,b.connectorColor,c.color));a[n].radius=this.getRangeRadius(g.value);a[n]=m(a[n],{center:a[0].radius-a[n].radius+d});l||m(!0,a[n],{bubbleAttribs:m(f),connectorAttribs:m(h),labelAttribs:k})},this)};b.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,
b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)};b.prototype.render=function(){var a=this.chart.renderer,b=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});this.legendSymbol=a.g("bubble-legend");this.legendItem=a.g("bubble-legend-item");this.legendSymbol.translateX=0;this.legendSymbol.translateY=0;this.ranges.forEach(function(a){a.value>=b&&this.renderRange(a)},this);this.legendSymbol.add(this.legendItem);this.legendItem.add(this.legendGroup);
this.hideOverlappingLabels()};b.prototype.renderRange=function(a){var b=this.options,c=b.labels,d=this.chart,g=d.series[b.seriesIndex],f=d.renderer,h=this.symbols;d=h.labels;var e=a.center,l=Math.abs(a.radius),m=b.connectorDistance||0,n=c.align,k=b.connectorWidth,p=this.ranges[0].radius||0,q=e-l-b.borderWidth/2+k/2,u=this.fontMetrics;u=u.f/2-(u.h-u.f)/2;var y=f.styledMode;m=this.legend.options.rtl||"left"===n?-m:m;"center"===n&&(m=0,b.connectorDistance=0,a.labelAttribs.align="center");n=q+b.labels.y;
var v=p+m+b.labels.x;h.bubbleItems.push(f.circle(p,e+((q%1?1:.5)-(k%2?0:.5)),l).attr(y?{}:a.bubbleAttribs).addClass((y?"highcharts-color-"+g.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(b.className||"")).add(this.legendSymbol));h.connectors.push(f.path(f.crispLine([["M",p,q],["L",p+m,q]],b.connectorWidth)).attr(y?{}:a.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendSymbol));
a=f.text(this.formatLabel(a),v,n+u).attr(y?{}:a.labelAttribs).css(y?{}:c.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendSymbol);d.push(a);a.placed=!0;a.alignAttr={x:v,y:n+u}};b.prototype.getMaxLabelSize=function(){var a,b;this.symbols.labels.forEach(function(c){b=c.getBBox(!0);a=a?b.width>a.width?b:a:b});return a||{}};b.prototype.formatLabel=function(a){var b=this.options,c=b.labels.formatter;b=b.labels.format;var d=this.chart.numberFormatter;return b?
k.format(b,a):c?c.call(a):d(a.value,1)};b.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach(function(a,c){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[c].show():b.connectors[c].hide()}))};b.prototype.getRanges=function(){var a=this.legend.bubbleLegend,b=a.options.ranges,c,f=Number.MAX_VALUE,h=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&
(c=a.zData.filter(n),c.length&&(f=y(a.options.zMin,Math.min(f,Math.max(u(c),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),h=y(a.options.zMax,Math.max(h,d(c)))))});var k=f===h?[{value:h}]:[{value:f},{value:(f+h)/2},{value:h,autoRanges:!0}];b.length&&b[0].radius&&k.reverse();k.forEach(function(a,c){b&&b[c]&&(k[c]=m(b[c],a))});return k};b.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,c=a.legend.options,d=c.floating,f=(c="horizontal"===c.layout)?
a.legend.lastLineHeight:0,h=a.plotSizeX,m=a.plotSizeY,e=a.series[this.options.seriesIndex],l=e.getPxExtremes();a=Math.ceil(l.minPxSize);l=Math.ceil(l.maxPxSize);var n=Math.min(m,h);e=e.options.maxSize;if(d||!/%$/.test(e))b=l;else if(e=parseFloat(e),b=(n+f-b.h/2)*e/100/(e/100+1),c&&m-b>=h||!c&&h-b>=m)b=l;return[a,Math.ceil(b)]};b.prototype.updateRanges=function(a,b){var c=this.legend.options.bubbleLegend;c.minSize=a;c.maxSize=b;c.ranges=this.getRanges()};b.prototype.correctSizes=function(){var a=this.legend,
b=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())};return b}()});v(b,"Series/Bubble/BubbleLegendComposition.js",[b["Series/Bubble/BubbleLegendDefaults.js"],b["Series/Bubble/BubbleLegendItem.js"],b["Core/DefaultOptions.js"],b["Core/Utilities.js"]],function(b,k,q,h){var p=q.setOptions,f=h.addEvent,d=h.objectEach,u=h.wrap,n;(function(h){function m(b,f,g){var e=this.legend,
l=0<=a(this);if(e&&e.options.enabled&&e.bubbleLegend&&e.options.bubbleLegend.autoRanges&&l){var h=e.bubbleLegend.options;l=e.bubbleLegend.predictBubbleSizes();e.bubbleLegend.updateRanges(l[0],l[1]);h.placed||(e.group.placed=!1,e.allItems.forEach(function(a){a.legendGroup.translateY=null}));e.render();this.getMargins();this.axes.forEach(function(a){a.visible&&a.render();h.placed||(a.setScale(),a.updateNames(),d(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});h.placed=!0;this.getMargins();b.call(this,
f,g);e.bubbleLegend.correctSizes();q(e,c(e))}else b.call(this,f,g),e&&e.options.enabled&&e.bubbleLegend&&(e.render(),q(e,c(e)))}function a(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function c(a){a=a.allItems;var b=[],c=a.length,e,d=0;for(e=0;e<c;e++)if(a[e].legendItemHeight&&(a[e].itemHeight=a[e].legendItemHeight),a[e]===a[c-1]||a[e+1]&&a[e]._legendItemPos[1]!==a[e+1]._legendItemPos[1]){b.push({height:0});var f=b[b.length-
1];for(d;d<=e;d++)a[d].itemHeight>f.height&&(f.height=a[d].itemHeight);f.step=e}return b}function g(b){var c=this.bubbleLegend,d=this.options,e=d.bubbleLegend,f=a(this.chart);c&&c.ranges&&c.ranges.length&&(e.ranges.length&&(e.autoRanges=!!e.ranges[0].autoRanges),this.destroyItem(c));0<=f&&d.enabled&&e.enabled&&(e.seriesIndex=f,this.bubbleLegend=new k(e,this),this.bubbleLegend.addToLegend(b.allItems))}function n(){var b=this.chart,c=this.visible,d=this.chart.legend;d&&d.bubbleLegend&&(this.visible=
!c,this.ignoreSeries=c,b=0<=a(b),d.bubbleLegend.visible!==b&&(d.update({bubbleLegend:{enabled:b}}),d.bubbleLegend.visible=b),this.visible=c)}function q(a,b){var c=a.options.rtl,e,d,f,g=0;a.allItems.forEach(function(a,l){e=a.legendGroup.translateX;d=a._legendItemPos[1];if((f=a.movementX)||c&&a.ranges)f=c?e-a.options.maxSize/2:e+f,a.legendGroup.attr({translateX:f});l>b[g].step&&g++;a.legendGroup.attr({translateY:Math.round(d+b[g].height/2)});a._legendItemPos[1]=d+b[g].height/2})}var v=[];h.compose=
function(a,c,d){-1===v.indexOf(a)&&(v.push(a),p({legend:{bubbleLegend:b}}),u(a.prototype,"drawChartBox",m));-1===v.indexOf(c)&&(v.push(c),f(c,"afterGetAllItems",g));-1===v.indexOf(d)&&(v.push(d),f(d,"legendItemClick",n))}})(n||(n={}));return n});v(b,"Series/Bubble/BubblePoint.js",[b["Core/Series/Point.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,q){var h=this&&this.__extends||function(){var b=function(f,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,
d){b.__proto__=d}||function(b,d){for(var f in d)d.hasOwnProperty(f)&&(b[f]=d[f])};return b(f,d)};return function(f,d){function h(){this.constructor=f}b(f,d);f.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}}();q=q.extend;k=function(k){function f(){var b=null!==k&&k.apply(this,arguments)||this;b.options=void 0;b.series=void 0;return b}h(f,k);f.prototype.haloPath=function(d){return b.prototype.haloPath.call(this,0===d?0:(this.marker?this.marker.radius||0:0)+d)};return f}(k.seriesTypes.scatter.prototype.pointClass);
q(k.prototype,{ttBelow:!1});return k});v(b,"Series/Bubble/BubbleSeries.js",[b["Core/Axis/Axis.js"],b["Series/Bubble/BubbleLegendComposition.js"],b["Series/Bubble/BubblePoint.js"],b["Core/Color/Color.js"],b["Core/Globals.js"],b["Core/Series/Series.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,q,h,p,f,d,u){var n=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c])};return a(b,c)};return function(b,c){function e(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),m=h.parse;h=p.noop;var y=d.seriesTypes;p=y.column;var a=y.scatter;y=u.addEvent;var c=u.arrayMax,g=u.arrayMin,t=u.clamp,v=u.extend,E=u.isNumber,r=u.merge,z=u.pick;u=function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.data=void 0;a.maxPxSize=void 0;a.minPxSize=void 0;a.options=void 0;a.points=void 0;a.radii=void 0;a.yData=
void 0;a.zData=void 0;return a}n(e,b);e.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))},this)};e.prototype.getRadii=function(){var a=this,b=this.zData,c=this.yData,e=[],d=this.chart.bubbleZExtremes;var f=this.getPxExtremes();var g=f.minPxSize,h=f.maxPxSize;if(!d){var m=Number.MAX_VALUE,
k=-Number.MAX_VALUE,n;this.chart.series.forEach(function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=(b.onPoint||b).getZExtremes())&&(m=Math.min(m||b.zMin,b.zMin),k=Math.max(k||b.zMax,b.zMax),n=!0)});n?(d={zMin:m,zMax:k},this.chart.bubbleZExtremes=d):d={zMin:0,zMax:0}}var p=0;for(f=b.length;p<f;p++){var q=b[p];e.push(this.getRadius(d.zMin,d.zMax,g,h,q,c&&c[p]))}this.radii=e};e.prototype.getRadius=function(a,b,c,e,d,f){var g=this.options,h="width"!==g.sizeBy,l=g.zThreshold,
m=b-a,k=.5;if(null===f||null===d)return null;if(E(d)){g.sizeByAbsoluteValue&&(d=Math.abs(d-l),m=Math.max(b-l,Math.abs(a-l)),a=0);if(d<a)return c/2-1;0<m&&(k=(d-a)/m)}h&&0<=k&&(k=Math.sqrt(k));return Math.ceil(c+k*(e-c))/2};e.prototype.hasData=function(){return!!this.processedXData.length};e.prototype.pointAttribs=function(a,b){var c=this.options.marker.fillOpacity;a=f.prototype.pointAttribs.call(this,a,b);1!==c&&(a.fill=m(a.fill).setOpacity(c).get("rgba"));return a};e.prototype.translate=function(){b.prototype.translate.call(this);
this.getRadii();this.translateBubble()};e.prototype.translateBubble=function(){for(var a=this.data,b=this.radii,c=this.getPxExtremes().minPxSize,d=a.length;d--;){var e=a[d],f=b?b[d]:0;E(f)&&f>=c/2?(e.marker=v(e.marker,{radius:f,width:2*f,height:2*f}),e.dlBox={x:e.plotX-f,y:e.plotY-f,width:2*f,height:2*f}):e.shapeArgs=e.plotY=e.dlBox=void 0}};e.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"===typeof b){var c=/%$/.test(b);b=parseInt(b,
10)}return c?a*b/100:b},c=b(z(this.options.minSize,8));b=Math.max(b(z(this.options.maxSize,"20%")),c);return{minPxSize:c,maxPxSize:b}};e.prototype.getZExtremes=function(){var a=this.options,b=(this.zData||[]).filter(E);if(b.length){var e=z(a.zMin,t(g(b),!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));a=z(a.zMax,c(b));if(E(e)&&E(a))return{zMin:e,zMax:a}}};e.compose=k.compose;e.defaultOptions=r(a.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,
b=this.point.z;return E(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});return e}(a);v(u.prototype,{alignDataLabel:p.prototype.alignDataLabel,applyZones:h,bubblePadding:!0,buildKDTree:h,directTouch:!0,
isBubble:!0,pointArrayMap:["y","z"],pointClass:q,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});y(u,"updatedData",function(a){delete a.target.chart.bubbleZExtremes});b.prototype.beforePadding=function(){var a=this,b=this.len,c=this.chart,d=0,f=b,g=this.isXAxis,h=g?"xData":"yData",m=this.min,k=this.max-m,n=b/k,p;this.series.forEach(function(b){if(b.bubblePadding&&(b.visible||!c.options.chart.ignoreHiddenSeries)){p=a.allowZoomOutside=!0;var e=
b[h];g&&((b.onPoint||b).getRadii(0,0,b),b.onPoint&&(b.radii=b.onPoint.radii));if(0<k)for(var l=e.length;l--;)if(E(e[l])&&a.dataMin<=e[l]&&e[l]<=a.max){var q=b.radii&&b.radii[l]||0;d=Math.min((e[l]-m)*n-q,d);f=Math.max((e[l]-m)*n+q,f)}}});p&&0<k&&!this.logarithmic&&(f-=b,n*=(b+Math.max(0,d)-Math.min(f,b))/b,[["min","userMin",d],["max","userMax",f]].forEach(function(b){"undefined"===typeof z(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/n)}))};d.registerSeriesType("bubble",u);"";"";return u});v(b,"Series/MapBubble/MapBubblePoint.js",
[b["Series/Map/MapPoint.js"],b["Core/Series/SeriesRegistry.js"]],function(b,k){var q=this&&this.__extends||function(){var b=function(f,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var f in d)d.hasOwnProperty(f)&&(b[f]=d[f])};return b(f,d)};return function(f,d){function h(){this.constructor=f}b(f,d);f.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}}();k=k.seriesTypes;var h=k.map;return function(k){function f(){var d=
null!==k&&k.apply(this,arguments)||this;d.applyOptions=h.prototype.pointClass.prototype.applyOptions;d.getProjectedBounds=b.prototype.getProjectedBounds;return d}q(f,k);f.prototype.isValid=function(){return"number"===typeof this.z};return f}(k.bubble.prototype.pointClass)});v(b,"Series/MapBubble/MapBubbleSeries.js",[b["Series/Bubble/BubbleSeries.js"],b["Series/MapBubble/MapBubblePoint.js"],b["Series/Map/MapSeries.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,q,h,p){var f=
this&&this.__extends||function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(d,a)};return function(d,a){function c(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),d=h.seriesTypes.mappoint,u=p.extend,n=p.merge;p=function(h){function m(){var a=null!==h&&h.apply(this,arguments)||this;a.data=void 0;a.options=void 0;
a.points=void 0;return a}f(m,h);m.prototype.searchPoint=function(a,b){return this.searchKDTree({clientX:a.chartX-this.chart.plotLeft,plotY:a.chartY-this.chart.plotTop},b,a)};m.prototype.translate=function(){d.prototype.translate.call(this);this.getRadii();this.translateBubble()};m.compose=b.compose;m.defaultOptions=n(b.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}});return m}(b);u(p.prototype,{type:"mapbubble",axisTypes:["colorAxis"],
getProjectedBounds:q.prototype.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:k,processData:q.prototype.processData,projectPoint:d.prototype.projectPoint,setData:q.prototype.setData,setOptions:q.prototype.setOptions,updateData:q.prototype.updateData,useMapGeometry:!0,xyFromShape:!0});h.registerSeriesType("mapbubble",p);"";return p});v(b,"Series/Heatmap/HeatmapPoint.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k){var q=this&&this.__extends||function(){var b=
function(d,f){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(d,f)};return function(d,f){function h(){this.constructor=d}b(d,f);d.prototype=null===f?Object.create(f):(h.prototype=f.prototype,new h)}}(),h=k.clamp,p=k.defined,f=k.extend,d=k.pick;b=function(b){function f(){var d=null!==b&&b.apply(this,arguments)||this;d.options=void 0;d.series=void 0;d.value=void 0;d.x=void 0;d.y=void 0;return d}
q(f,b);f.prototype.applyOptions=function(d,f){d=b.prototype.applyOptions.call(this,d,f);d.formatPrefix=d.isNull||null===d.value?"null":"point";return d};f.prototype.getCellAttributes=function(){var b=this.series,f=b.options,a=(f.colsize||1)/2,c=(f.rowsize||1)/2,g=b.xAxis,k=b.yAxis,n=this.options.marker||b.options.marker;b=b.pointPlacementToXValue();var q=d(this.pointPadding,f.pointPadding,0),r={x1:h(Math.round(g.len-(g.translate(this.x-a,!1,!0,!1,!0,-b)||0)),-g.len,2*g.len),x2:h(Math.round(g.len-
(g.translate(this.x+a,!1,!0,!1,!0,-b)||0)),-g.len,2*g.len),y1:h(Math.round(k.translate(this.y-c,!1,!0,!1,!0)||0),-k.len,2*k.len),y2:h(Math.round(k.translate(this.y+c,!1,!0,!1,!0)||0),-k.len,2*k.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var c=a+"1",d=a+"2",f=Math.abs(r[c]-r[d]),g=n&&n.lineWidth||0,h=Math.abs(r[c]+r[d])/2;b=n&&n[b];p(b)&&b<f&&(b=b/2+g/2,r[c]=h-b,r[d]=h+b);q&&("y"===a&&(c=d,d=a+"1"),r[c]+=q,r[d]-=q)});return r};f.prototype.haloPath=function(b){if(!b)return[];
var d=this.shapeArgs;return["M",d.x-b,d.y-b,"L",d.x-b,d.y+d.height+b,d.x+d.width+b,d.y+d.height+b,d.x+d.width+b,d.y-b,"Z"]};f.prototype.isValid=function(){return Infinity!==this.value&&-Infinity!==this.value};return f}(b.seriesTypes.scatter.prototype.pointClass);f(b.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});return b});v(b,"Series/Heatmap/HeatmapSeries.js",[b["Core/Color/Color.js"],b["Series/ColorMapMixin.js"],b["Series/Heatmap/HeatmapPoint.js"],b["Core/Legend/LegendSymbol.js"],
b["Core/Series/SeriesRegistry.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],function(b,k,q,h,p,f,d){var u=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),n=p.series,m=p.seriesTypes,
v=m.column,a=m.scatter,c=f.prototype.symbols,g=d.extend,t=d.fireEvent,E=d.isNumber,F=d.merge,r=d.pick;f=function(d){function f(){var a=null!==d&&d.apply(this,arguments)||this;a.colorAxis=void 0;a.data=void 0;a.options=void 0;a.points=void 0;a.valueMax=NaN;a.valueMin=NaN;return a}u(f,d);f.prototype.drawPoints=function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)n.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&(b.graphic[a.chart.styledMode?"css":
"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})};f.prototype.getExtremes=function(){var a=n.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;E(b)&&(this.valueMin=b);E(a)&&(this.valueMax=a);return n.prototype.getExtremes.call(this)};f.prototype.getValidPoints=function(a,b){return n.prototype.getValidPoints.call(this,a,b,!0)};f.prototype.hasData=function(){return!!this.processedXData.length};f.prototype.init=function(){n.prototype.init.apply(this,
arguments);var a=this.options;a.pointRange=r(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;c.ellipse=c.circle;a.marker&&(a.marker.r=a.borderRadius)};f.prototype.markerAttribs=function(a,b){var c=a.marker||{},d=this.options.marker||{},e=a.shapeArgs||{},f={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var g=d.states[b]||{};var h=c.states&&c.states[b]||{};[["width","x"],["height","y"]].forEach(function(a){f[a[0]]=(h[a[0]]||g[a[0]]||e[a[0]])+(h[a[0]+"Plus"]||g[a[0]+"Plus"]||0);
f[a[1]]=e[a[1]]+(e[a[0]]-f[a[0]])/2})}return b?f:e};f.prototype.pointAttribs=function(a,c){var d=n.prototype.pointAttribs.call(this,a,c),e=this.options||{},f=this.chart.options.plotOptions||{},g=f.series||{},h=f.heatmap||{};f=a&&a.options.borderColor||e.borderColor||h.borderColor||g.borderColor;g=a&&a.options.borderWidth||e.borderWidth||h.borderWidth||g.borderWidth||d["stroke-width"];d.stroke=a&&a.marker&&a.marker.lineColor||e.marker&&e.marker.lineColor||f||this.color;d["stroke-width"]=g;c&&(a=F(e.states[c],
e.marker&&e.marker.states[c],a&&a.options.states&&a.options.states[c]||{}),c=a.brightness,d.fill=a.color||b.parse(d.fill).brighten(c||0).get(),d.stroke=a.lineColor);return d};f.prototype.setClip=function(a){var b=this.chart;n.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)};f.prototype.translate=function(){var a=this.options,b=a.marker&&a.marker.symbol||"rect",d=c[b]?b:"rect",
f=-1!==["circle","square"].indexOf(d);this.generatePoints();this.points.forEach(function(e){var h=e.getCellAttributes(),k={};k.x=Math.min(h.x1,h.x2);k.y=Math.min(h.y1,h.y2);k.width=Math.max(Math.abs(h.x2-h.x1),0);k.height=Math.max(Math.abs(h.y2-h.y1),0);var l=e.hasImage=0===(e.marker&&e.marker.symbol||b||"").indexOf("url");if(f){var m=Math.abs(k.width-k.height);k.x=Math.min(h.x1,h.x2)+(k.width<k.height?0:m/2);k.y=Math.min(h.y1,h.y2)+(k.width<k.height?m/2:0);k.width=k.height=Math.min(k.width,k.height)}m=
{plotX:(h.x1+h.x2)/2,plotY:(h.y1+h.y2)/2,clientX:(h.x1+h.x2)/2,shapeType:"path",shapeArgs:F(!0,k,{d:c[d](k.x,k.y,k.width,k.height,{r:a.borderRadius})})};l&&(e.marker={width:k.width,height:k.height});g(e,m)});t(this,"afterTranslate")};f.defaultOptions=F(a.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return E(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,
padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}});return f}(a);g(f.prototype,{alignDataLabel:v.prototype.alignDataLabel,axisTypes:k.SeriesMixin.axisTypes,colorAttribs:k.SeriesMixin.colorAttribs,colorKey:k.SeriesMixin.colorKey,directTouch:!0,drawLegendSymbol:h.drawRectangle,getExtremesFromAll:!0,getSymbol:n.prototype.getSymbol,
parallelArrays:k.SeriesMixin.parallelArrays,pointArrayMap:["y","value"],pointClass:q,trackerGroups:k.SeriesMixin.trackerGroups});p.registerSeriesType("heatmap",f);"";"";return f});v(b,"masters/modules/map.src.js",[b["Core/Globals.js"],b["Core/Axis/Color/ColorAxis.js"],b["Series/MapBubble/MapBubbleSeries.js"],b["Core/Chart/MapChart.js"],b["Maps/MapView.js"],b["Maps/Projection.js"]],function(b,k,q,h,p,f){b.ColorAxis=k;b.MapChart=h;b.mapChart=b.Map=h.mapChart;b.MapView=p;b.maps=h.maps;b.Projection=f;
k.compose(b.Chart,b.Fx,b.Legend,b.Series);q.compose(b.Chart,b.Legend,b.Series)})});
//# sourceMappingURL=map.js.map