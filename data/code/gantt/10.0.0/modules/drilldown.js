/*
 Highcharts JS v10.0.0 (2022-03-16)

 Highcharts Drilldown module

 Author: Torstein Honsi
 License: www.highcharts.com/license

*/
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/drilldown",["highcharts"],function(u){a(u);a.Highcharts=u;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function u(a,x,f,q){a.hasOwnProperty(x)||(a[x]=q.apply(null,f))}a=a?a._modules:{};u(a,"Extensions/Breadcrumbs.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/DefaultOptions.js"],a["Core/Utilities.js"],
a["Core/FormatUtilities.js"]],function(a,x,f,q,m){var u=m.format;m=q.addEvent;var C=q.objectEach,F=q.extend,y=q.fireEvent,z=q.merge,w=q.pick,G=q.defined,E=q.isString;F(f.defaultOptions.lang,{mainBreadcrumb:"Main"});f=function(){function b(c,d){this.group=void 0;this.list=[];this.elementList={};this.isDirty=!0;this.level=0;this.options=void 0;d=z(c.options.drilldown&&c.options.drilldown.drillUpButton,b.defaultBreadcrumbsOptions,c.options.navigation&&c.options.navigation.breadcrumbs,d);this.chart=c;
this.options=d||{}}b.prototype.updateProperties=function(c){this.setList(c);this.setLevel();this.isDirty=!0};b.prototype.setList=function(c){this.list=c};b.prototype.setLevel=function(){this.level=this.list.length&&this.list.length-1};b.prototype.getLevel=function(){return this.level};b.prototype.getButtonText=function(c){var d=this.chart,b=this.options,k=d.options.lang,a=w(b.format,b.showFullPath?"{level.name}":"\u2190 {level.name}");k=k&&w(k.drillUpText,k.mainBreadcrumb);c=b.formatter&&b.formatter(c)||
u(a,{level:c.levelOptions},d)||"";(E(c)&&!c.length||"\u2190 "===c)&&G(k)&&(c=b.showFullPath?k:"\u2190 "+k);return c};b.prototype.redraw=function(){this.isDirty&&this.render();this.group&&this.group.align();this.isDirty=!1};b.prototype.render=function(){var c=this.chart,d=this.options;!this.group&&d&&(this.group=c.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:d.zIndex}).add());d.showFullPath?this.renderFullPathButtons():this.renderSingleButton();
this.alignBreadcrumbsGroup()};b.prototype.renderFullPathButtons=function(){this.destroySingleButton();this.resetElementListState();this.updateListElements();this.destroyListElements()};b.prototype.renderSingleButton=function(){var c=this.chart,d=this.list,b=this.options.buttonSpacing;this.destroyListElements();var a=this.group?this.group.getBBox().width:b;d=d[d.length-2];!c.drillUpButton&&0<this.level?c.drillUpButton=this.renderButton(d,a,b):c.drillUpButton&&(0<this.level?this.updateSingleButton():
this.destroySingleButton())};b.prototype.alignBreadcrumbsGroup=function(c){if(this.group){var d=this.options,b=d.buttonTheme,a=d.position,l="chart"===d.relativeTo||"spacingBox"===d.relativeTo?void 0:"scrollablePlotBox",f=this.group.getBBox();d=2*(b.padding||0)+d.buttonSpacing;a.width=f.width+d;a.height=f.height+d;a=z(a);c&&(a.x+=c);a.y=w(a.y,this.yOffset,0);this.group.align(a,!0,l)}};b.prototype.renderButton=function(c,a,b){var d=this,l=this.chart,f=d.options,A=z(f.buttonTheme),n=A.states;delete A.states;
a=l.renderer.button(d.getButtonText(c),a,b,function(a){var b=f.events&&f.events.click,k;b&&(k=b.call(d,a,c));!1!==k&&(a.newLevel=f.showFullPath?c.level:d.level-1,y(d,"up",a))},A,n&&n.hover,n&&n.select,n&&n.disabled).addClass("highcharts-breadcrumbs-button").add(d.group);l.styledMode||a.attr(f.style);return a};b.prototype.renderSeparator=function(a,b){var c=this.chart,d=this.options.separator;a=c.renderer.label(d.text,a,b,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group);
c.styledMode||a.css(d.style);return a};b.prototype.update=function(a){z(!0,this.options,a);this.destroy();this.isDirty=!0};b.prototype.updateSingleButton=function(){var a=this.chart,b=this.list[this.level-1];a.drillUpButton&&a.drillUpButton.attr({text:this.getButtonText(b)})};b.prototype.destroy=function(){this.destroySingleButton();this.destroyListElements(!0);this.group&&this.group.destroy();this.group=void 0};b.prototype.destroyListElements=function(a){var b=this.elementList;C(b,function(c,d){if(a||
!b[d].updated)c=b[d],c.button&&c.button.destroy(),c.separator&&c.separator.destroy(),delete c.button,delete c.separator,delete b[d]});a&&(this.elementList={})};b.prototype.destroySingleButton=function(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)};b.prototype.resetElementListState=function(){C(this.elementList,function(a){a.updated=!1})};b.prototype.updateListElements=function(){var a=function(a,b){return a.getBBox().width+b},b=this,f=b.elementList,
k=b.options.buttonSpacing,l=b.list,m=b.group?a(b.group,k):k,r;l.forEach(function(c,d){d=d===l.length-1;if(f[c.level]){r=f[c.level];var n=r.button;r.separator||d?r.separator&&d&&(r.separator.destroy(),delete r.separator):(m+=k,r.separator=b.renderSeparator(m,k),m+=a(r.separator,k));f[c.level].updated=!0}else{n=b.renderButton(c,m,k);m+=a(n,k);if(!d){var q=b.renderSeparator(m,k);m+=a(q,k)}f[c.level]={button:n,separator:q,updated:!0}}n&&n.setState(d?2:0)})};b.defaultBreadcrumbsOptions={buttonTheme:{fill:"none",
height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#335cad"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7};return b}();x.Breadcrumbs||(x.Breadcrumbs=f,m(a,"getMargins",function(){var a=this.breadcrumbs;if(a&&!a.options.floating&&a.level){var c=a.options,d=c.buttonTheme;d=(d.height||0)+2*(d.padding||
0)+c.buttonSpacing;c=c.position.verticalAlign;"bottom"===c?(this.marginBottom=(this.marginBottom||0)+d,a.yOffset=d):"middle"!==c?(this.plotTop+=d,a.yOffset=-d):a.yOffset=void 0}}),m(a,"redraw",function(){this.breadcrumbs&&this.breadcrumbs.redraw()}),m(a,"destroy",function(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)}),m(a,"afterShowResetZoom",function(){if(this.breadcrumbs){var a=this.resetZoomButton&&this.resetZoomButton.getBBox(),c=this.breadcrumbs.options;a&&"right"===
c.position.align&&"plotBox"===c.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-a.width-c.buttonSpacing)}}),m(a,"selection",function(a){!0===a.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}));"";return f});u(a,"Extensions/Drilldown.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Color/Color.js"],a["Series/Column/ColumnSeries.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/DefaultOptions.js"],a["Core/Series/Point.js"],
a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Axis/Tick.js"],a["Core/Utilities.js"],a["Extensions/Breadcrumbs.js"]],function(a,u,f,q,m,N,C,M,y,z,w,G,E,b,c){function d(a){var g=A(this.chart.options.drilldown.animation);a&&(a.hide(),I(function(){a&&a.added&&a.fadeIn()},Math.max(g.duration-50,0)))}var A=a.animObject,k=C.noop;a=M.defaultOptions;var l=b.addEvent,x=b.removeEvent,r=b.extend,n=b.fireEvent,B=b.merge,F=b.objectEach,D=b.pick,I=b.syncTimeout;
w=w.seriesTypes.pie;var J=1;r(a.lang,{});a.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#003399",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#003399",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}};G.prototype.Element.prototype.fadeIn=function(a){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:D(this.newOpacity,1)},a||{duration:250})};f.prototype.addSeriesAsDrilldown=
function(a,e){this.addSingleSeriesAsDrilldown(a,e);this.applyDrilldown()};f.prototype.addSingleSeriesAsDrilldown=function(a,e){var g=a.series,p=g.xAxis,b=g.yAxis,c=[],d=[],h;var t=this.styledMode?{colorIndex:D(a.colorIndex,g.colorIndex)}:{color:a.color||g.color};this.drilldownLevels||(this.drilldownLevels=[]);var f=g.options._levelNumber||0;(h=this.drilldownLevels[this.drilldownLevels.length-1])&&h.levelNumber!==f&&(h=void 0);e=r(r({_ddSeriesId:J++},t),e);var l=g.points.indexOf(a);g.chart.series.forEach(function(a){a.xAxis!==
p||a.isDrilling||(a.options._ddSeriesId=a.options._ddSeriesId||J++,a.options._colorIndex=a.userOptions._colorIndex,a.options._levelNumber=a.options._levelNumber||f,h?(c=h.levelSeries,d=h.levelSeriesOptions):(c.push(a),a.purgedOptions=B({_ddSeriesId:a.options._ddSeriesId,_levelNumber:a.options._levelNumber,selected:a.options.selected},a.userOptions),d.push(a.purgedOptions)))});a=r({levelNumber:f,seriesOptions:g.options,seriesPurgedOptions:g.purgedOptions,levelSeriesOptions:d,levelSeries:c,shapeArgs:a.shapeArgs,
bBox:a.graphic?a.graphic.getBBox():{},color:a.isNull?q.parse(t.color).setOpacity(0).get():t.color,lowerSeriesOptions:e,pointOptions:g.options.data[l],pointIndex:l,oldExtremes:{xMin:p&&p.userMin,xMax:p&&p.userMax,yMin:b&&b.userMin,yMax:b&&b.userMax},resetZoomButton:this.resetZoomButton},t);this.drilldownLevels.push(a);p&&p.names&&(p.names.length=0);e=a.lowerSeries=this.addSeries(e,!1);e.options._levelNumber=f+1;p&&(p.oldPos=p.pos,p.userMin=p.userMax=null,b.userMin=b.userMax=null);g.type===e.type&&
(e.animate=e.animateDrilldown||k,e.options.animation=!0)};f.prototype.applyDrilldown=function(){var a=this.drilldownLevels;if(a&&0<a.length){var e=a[a.length-1].levelNumber;this.drilldownLevels.forEach(function(a){a.levelNumber===e&&a.levelSeries.forEach(function(a){a.options&&a.options._levelNumber===e&&a.remove(!1)})})}this.resetZoomButton&&(this.resetZoomButton.hide(),delete this.resetZoomButton);this.pointer.reset();n(this,"afterDrilldown");this.redraw();n(this,"afterApplyDrilldown")};var K=function(a){var e=
[];if((a=a.drilldownLevels)&&a.length){e[0]||e.push({level:0,levelOptions:a[0].seriesOptions});var g=e[e.length-1];a.forEach(function(a){a.levelNumber+1>g.level&&e.push({level:a.levelNumber+1,levelOptions:B({name:a.lowerSeries.name},a.pointOptions)})})}return e};f.prototype.drillUp=function(){if(this.drilldownLevels&&0!==this.drilldownLevels.length){n(this,"beforeDrillUp");for(var a=this,e=a.drilldownLevels,b=e[e.length-1].levelNumber,c=e.length,d=a.series,v,f,h,t,l=function(e){d.forEach(function(a){a.options._ddSeriesId===
e._ddSeriesId&&(g=a)});var g=g||a.addSeries(e,!1);g.type===h.type&&g.animateDrillupTo&&(g.animate=g.animateDrillupTo);e===f.seriesPurgedOptions&&(t=g)},k=a.drilldownLevels.length;c--;)if(f=e[c],f.levelNumber===b){e.pop();h=f.lowerSeries;if(!h.chart)for(v=d.length;v--;)if(d[v].options.id===f.lowerSeriesOptions.id&&d[v].options._levelNumber===b+1){h=d[v];break}h.xData=[];h.xAxis&&h.xAxis.names&&(0===k||c===k)&&(h.xAxis.names.length=0);f.levelSeriesOptions.forEach(l);n(a,"drillup",{seriesOptions:f.seriesPurgedOptions||
f.seriesOptions});t.type===h.type&&(t.drilldownLevel=f,t.options.animation=a.options.drilldown.animation,h.animateDrillupFrom&&h.chart&&h.animateDrillupFrom(f));t.options._levelNumber=b;h.remove(!1);t.xAxis&&(v=f.oldExtremes,t.xAxis.setExtremes(v.xMin,v.xMax,!1),t.yAxis.setExtremes(v.yMin,v.yMax,!1));f.resetZoomButton&&(a.resetZoomButton=f.resetZoomButton)}n(a,"afterDrillUp");this.redraw();this.ddDupes.length=[];n(a,"drillupall")}};l(f,"afterInit",function(){var a=this;a.drilldown={chart:a,fadeInGroup:d,
update:function(e,g){B(!0,a.options.drilldown,e);D(g,!0)&&a.redraw()}}});l(f,"render",function(){(this.xAxis||[]).forEach(function(a){a.ddPoints={};a.series.forEach(function(e){var b,g=e.xData||[],c=e.points;for(b=0;b<g.length;b++){var d=e.options.data[b];"number"!==typeof d&&(d=e.pointClass.prototype.optionsToObject.call({series:e},d),d.drilldown&&(a.ddPoints[g[b]]||(a.ddPoints[g[b]]=[]),d=b-(e.cropStart||0),a.ddPoints[g[b]].push(c&&0<=d&&d<c.length?c[d]:!0)))}});F(a.ticks,E.prototype.drillable)})});
l(C.Breadcrumbs,"up",function(a){var e=this.chart;a=this.getLevel()-a.newLevel;for(var b=0;b<a;b++)e.drillUp()});l(f,"afterDrilldown",function(){var a=this.options.drilldown;a=a&&a.breadcrumbs;this.breadcrumbs||(this.breadcrumbs=new c(this,a));this.breadcrumbs.updateProperties(K(this))});l(f,"afterDrillUp",function(){this.breadcrumbs&&this.breadcrumbs.updateProperties(K(this))});l(f,"update",function(a){var e=this.breadcrumbs,b=a.options.drilldown&&a.options.drilldown.breadcrumbs;e&&b&&e.update(a.options.drilldown.breadcrumbs)});
m.prototype.animateDrillupTo=function(a){if(!a){var e=this,b=e.drilldownLevel;this.points.forEach(function(a){var e=a.dataLabel;a.graphic&&a.graphic.hide();e&&(e.hidden="hidden"===e.attr("visibility"),e.hidden||(e.hide(),a.connector&&a.connector.hide()))});I(function(){if(e.points){var a=[];e.data.forEach(function(e){a.push(e)});e.nodes&&(a=a.concat(e.nodes));a.forEach(function(a,e){e=e===(b&&b.pointIndex)?"show":"fadeIn";var d="show"===e?!0:void 0,c=a.dataLabel;if(a.graphic)a.graphic[e](d);c&&!c.hidden&&
(c.fadeIn(),a.connector&&a.connector.fadeIn())})}},Math.max(this.chart.options.drilldown.animation.duration-50,0));delete this.animate}};m.prototype.animateDrilldown=function(a){var e=this,b=this.chart,c=b.drilldownLevels,d,g=A(b.options.drilldown.animation),f=this.xAxis,h=b.styledMode;a||(c.forEach(function(a){e.options._ddSeriesId===a.lowerSeriesOptions._ddSeriesId&&(d=a.shapeArgs,h||(d.fill=a.color))}),d.x+=D(f.oldPos,f.pos)-f.pos,this.points.forEach(function(a){var b=a.shapeArgs;h||(b.fill=a.color);
a.graphic&&a.graphic.attr(d).animate(r(a.shapeArgs,{fill:a.color||e.color}),g)}),b.drilldown&&b.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)};m.prototype.animateDrillupFrom=function(a){var e=A(this.chart.options.drilldown.animation),b=this.group,d=b!==this.chart.columnGroup,c=this;c.trackerGroups.forEach(function(a){if(c[a])c[a].on("mouseover")});d&&delete this.group;this.points.forEach(function(g){var f=g.graphic,h=a.shapeArgs,p=function(){f.destroy();b&&d&&(b=b.destroy())};f&&
h&&(delete g.graphic,c.chart.styledMode||(h.fill=a.color),e.duration?f.animate(h,B(e,{complete:p})):(f.attr(h),p()))})};w&&r(w.prototype,{animateDrillupTo:m.prototype.animateDrillupTo,animateDrillupFrom:m.prototype.animateDrillupFrom,animateDrilldown:function(a){var e=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],b=this.chart.options.drilldown.animation;this.is("item")&&(b.duration=0);if(this.center){var d=e.shapeArgs,c=d.start,g=(d.end-c)/this.points.length,f=this.chart.styledMode;
a||(this.points.forEach(function(a,p){var h=a.shapeArgs;f||(d.fill=e.color,h.fill=a.color);if(a.graphic)a.graphic.attr(B(d,{start:c+p*g,end:c+(p+1)*g}))[b?"animate":"attr"](h,b)}),this.chart.drilldown&&this.chart.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)}}});y.prototype.doDrilldown=function(){this.runDrilldown()};y.prototype.runDrilldown=function(a,b,d){var e=this.series.chart,c=e.options.drilldown,g=(c.series||[]).length;e.ddDupes||(e.ddDupes=[]);for(;g--&&!f;)if(c.series[g].id===
this.drilldown&&-1===e.ddDupes.indexOf(this.drilldown)){var f=c.series[g];e.ddDupes.push(this.drilldown)}n(e,"drilldown",{point:this,seriesOptions:f,category:b,originalEvent:d,points:"undefined"!==typeof b&&this.series.xAxis.getDDPoints(b).slice(0)},function(b){var e=b.point.series&&b.point.series.chart,c=b.seriesOptions;e&&c&&(a?e.addSingleSeriesAsDrilldown(b.point,c):e.addSeriesAsDrilldown(b.point,c))})};u.prototype.drilldownCategory=function(a,b){this.getDDPoints(a).forEach(function(e){e&&e.series&&
e.series.visible&&e.runDrilldown&&e.runDrilldown(!0,a,b)});this.chart.applyDrilldown()};u.prototype.getDDPoints=function(a){return this.ddPoints&&this.ddPoints[a]||[]};E.prototype.drillable=function(){var a=this.pos,b=this.label,c=this.axis,d="xAxis"===c.coll&&c.getDDPoints,f=d&&c.getDDPoints(a),k=c.chart.styledMode;d&&(b&&f&&f.length?(b.drillable=!0,b.basicStyles||k||(b.basicStyles=B(b.styles)),b.addClass("highcharts-drilldown-axis-label"),b.removeOnDrillableClick&&x(b.element,"click"),b.removeOnDrillableClick=
l(b.element,"click",function(b){b.preventDefault();c.drilldownCategory(a,b)}),k||b.css(c.chart.options.drilldown.activeAxisLabelStyle)):b&&b.drillable&&b.removeOnDrillableClick&&(k||(b.styles={},b.css(b.basicStyles)),b.removeOnDrillableClick(),b.removeClass("highcharts-drilldown-axis-label")))};l(y,"afterInit",function(){this.drilldown&&!this.unbindDrilldownClick&&(this.unbindDrilldownClick=l(this,"click",L));return this});l(y,"update",function(a){a=a.options||{};a.drilldown&&!this.unbindDrilldownClick?
this.unbindDrilldownClick=l(this,"click",L):!a.drilldown&&void 0!==a.drilldown&&this.unbindDrilldownClick&&(this.unbindDrilldownClick=this.unbindDrilldownClick())});var L=function(a){var b=this.series;b.xAxis&&!1===b.chart.options.drilldown.allowPointDrilldown?b.xAxis.drilldownCategory(this.x,a):this.runDrilldown(void 0,void 0,a)};l(z,"afterDrawDataLabels",function(){var a=this.chart.options.drilldown.activeDataLabelStyle,b=this.chart.renderer,c=this.chart.styledMode;this.points.forEach(function(e){var d=
e.options.dataLabels,f=D(e.dlOptions,d&&d.style,{});e.drilldown&&e.dataLabel&&("contrast"!==a.color||c||(f.color=b.getContrast(e.color||this.color)),d&&d.color&&(f.color=d.color),e.dataLabel.addClass("highcharts-drilldown-data-label"),c||e.dataLabel.css(a).css(f))},this)});var H=function(a,b,c,d){a[c?"addClass":"removeClass"]("highcharts-drilldown-point");d||a.css({cursor:b})};l(z,"afterDrawTracker",function(){var a=this.chart.styledMode;this.points.forEach(function(b){b.drilldown&&b.graphic&&H(b.graphic,
"pointer",!0,a)})});l(y,"afterSetState",function(){var a=this.series.chart.styledMode;this.drilldown&&this.series.halo&&"hover"===this.state?H(this.series.halo,"pointer",!0,a):this.series.halo&&H(this.series.halo,"auto",!1,a)});l(f,"drillup",function(){this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy())});l(f,"drillupall",function(){this.resetZoomButton&&this.showResetZoom()})});u(a,"masters/modules/drilldown.src.js",[],function(){})});
//# sourceMappingURL=drilldown.js.map